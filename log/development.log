

Started GET "/" for 127.0.0.1 at Thu Aug 25 20:37:24 -0400 2011

RuntimeError (Please install the mysql2 adapter: `gem install activerecord-mysql2-adapter` (no such file to load -- active_record/connection_adapters/mysql2_adapter)):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (22.0ms)


Started GET "/" for 127.0.0.1 at Thu Aug 25 21:48:21 -0400 2011

RuntimeError (Please install the mysql2 adapter: `gem install activerecord-mysql2-adapter` (no such file to load -- active_record/connection_adapters/mysql2_adapter)):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.5/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from service at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104)


Started GET "/" for 127.0.0.1 at Thu Aug 25 21:54:34 -0400 2011

Mysql2::Error (Unknown database 'ryokin_development'):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/" for 127.0.0.1 at Thu Aug 25 21:54:36 -0400 2011

Mysql2::Error (Unknown database 'ryokin_development'):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.3ms)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (117.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (153.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (99.3ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (12.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (79.5ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (10.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (70.5ms)[0m  CREATE TABLE `category_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (88.3ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (16.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (88.8ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `category_rate_types`
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (1.1ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from service at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104)


Started GET "/" for 127.0.0.1 at Thu Aug 25 22:06:59 -0400 2011

ActionController::RoutingError (uninitialized constant WelcomeController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/" for 127.0.0.1 at Thu Aug 25 22:07:00 -0400 2011

ActionController::RoutingError (uninitialized constant WelcomeController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/banks" for 127.0.0.1 at Thu Aug 25 22:07:24 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.4ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 60ms (Views: 10.2ms | ActiveRecord: 0.4ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:24 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/banks/new" for 127.0.0.1 at Thu Aug 25 22:07:31 -0400 2011
  Processing by BanksController#new as HTML
Rendered banks/_form.html.erb (29.4ms)
Rendered banks/new.html.erb within layouts/application (34.5ms)
Completed 200 OK in 45ms (Views: 40.9ms | ActiveRecord: 0.0ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:31 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started POST "/banks" for 127.0.0.1 at Thu Aug 25 22:07:42 -0400 2011
  Processing by BanksController#create as HTML
  Parameters: {"commit"=>"Create Bank", "authenticity_token"=>"m5kqg1EHDc1ANRx+ADose09cwqy7uyrtGfqRyW9L7V8=", "utf8"=>"âœ“", "bank"=>{"name"=>"Desjardins", "logo_url"=>"", "abbr"=>"DESJ"}}
  [1m[35mSQL (29.5ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (4.4ms)[0m  describe `banks`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `banks` (`name`, `updated_at`, `logo_url`, `created_at`, `abbr`) VALUES ('Desjardins', '2011-08-26 02:07:42', '', '2011-08-26 02:07:42', 'DESJ')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/banks/1
Completed 302 Found in 181ms


Started GET "/banks/1" for 127.0.0.1 at Thu Aug 25 22:07:42 -0400 2011
  Processing by BanksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBank Load (39.4ms)[0m  [1mSELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 1 LIMIT 1[0m
Rendered banks/show.html.erb within layouts/application (20.0ms)
Completed 200 OK in 110ms (Views: 27.4ms | ActiveRecord: 74.4ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:42 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/banks" for 127.0.0.1 at Thu Aug 25 22:07:45 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 86ms (Views: 15.6ms | ActiveRecord: 0.3ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:45 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/banks/new" for 127.0.0.1 at Thu Aug 25 22:07:50 -0400 2011
  Processing by BanksController#new as HTML
Rendered banks/_form.html.erb (9.1ms)
Rendered banks/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 25ms (Views: 20.5ms | ActiveRecord: 0.0ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:50 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started POST "/banks" for 127.0.0.1 at Thu Aug 25 22:07:56 -0400 2011
  Processing by BanksController#create as HTML
  Parameters: {"commit"=>"Create Bank", "authenticity_token"=>"m5kqg1EHDc1ANRx+ADose09cwqy7uyrtGfqRyW9L7V8=", "utf8"=>"âœ“", "bank"=>{"name"=>"ING Direct", "logo_url"=>"", "abbr"=>"ING"}}
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `name`, `abbr`, `updated_at`, `logo_url`) VALUES ('2011-08-26 02:07:57', 'ING Direct', 'ING', '2011-08-26 02:07:57', '')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/banks/2
Completed 302 Found in 42ms


Started GET "/banks/2" for 127.0.0.1 at Thu Aug 25 22:07:57 -0400 2011
  Processing by BanksController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mBank Load (0.2ms)[0m  [1mSELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 2 LIMIT 1[0m
Rendered banks/show.html.erb within layouts/application (10.8ms)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 2.0ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:57 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/banks" for 127.0.0.1 at Thu Aug 25 22:07:59 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 93ms (Views: 16.4ms | ActiveRecord: 0.3ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:07:59 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (3.3ms)


Started GET "/banks" for 127.0.0.1 at Thu Aug 25 22:38:56 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.6ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 32ms (Views: 20.4ms | ActiveRecord: 0.6ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Thu Aug 25 22:38:56 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
Migrating to CreateRates (20110826020211)
Migrating to CreateCategoryRateTypes (20110826020347)
Migrating to CreateRateTypes (20110826020428)
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (4.2ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `category_rate_types`
  [1m[36mSQL (2.0ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (3.8ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (7.3ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rates`
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
Migrating to CreateRates (20110826020211)
Migrating to CreateCategoryRateTypes (20110826020347)
Migrating to CreateRateTypes (20110826020428)
Migrating to CreateCategories (20110826020507)
Migrating to AddRelationToCategoryRateTypes (20110826031818)
  [1m[35mSQL (0.3ms)[0m  ALTER TABLE `CategoryRateType` ADD `category_id` int(11)
Mysql2::Error: Table 'ryokin_development.categoryratetype' doesn't exist: ALTER TABLE `CategoryRateType` ADD `category_id` int(11)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
Migrating to CreateRates (20110826020211)
Migrating to CreateCategoryRateTypes (20110826020347)
Migrating to CreateRateTypes (20110826020428)
Migrating to CreateCategories (20110826020507)
Migrating to AddRelationToCategoryRateTypes (20110826031818)
  [1m[35mSQL (0.3ms)[0m  ALTER TABLE `CategoryRateTypes` ADD `category_id` int(11)
Mysql2::Error: Table 'ryokin_development.categoryratetypes' doesn't exist: ALTER TABLE `CategoryRateTypes` ADD `category_id` int(11)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
Migrating to CreateRates (20110826020211)
Migrating to CreateCategoryRateTypes (20110826020347)
Migrating to CreateRateTypes (20110826020428)
Migrating to CreateCategories (20110826020507)
Migrating to AddRelationToCategoryRateTypes (20110826031818)
  [1m[35mSQL (54.1ms)[0m  ALTER TABLE `Category_Rate_Types` ADD `category_id` int(11)
  [1m[36mSQL (135.6ms)[0m  [1mALTER TABLE `Category_Rate_Types` ADD `rate_type_id` int(11)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20110826031818')
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.3ms)[0m  describe `Category_Rate_Types`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `Category_Rate_Types`[0m
  [1m[35mSQL (1.4ms)[0m  describe `banks`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `banks`[0m
  [1m[35mSQL (1.3ms)[0m  describe `categories`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `categories`[0m
  [1m[35mSQL (1.4ms)[0m  describe `rate_types`
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `rate_types`[0m
  [1m[35mSQL (1.1ms)[0m  describe `rates`
  [1m[36mSQL (0.2ms)[0m  [1mSHOW KEYS FROM `rates`[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 20:54:23 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 50ms (Views: 21.0ms | ActiveRecord: 0.3ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Fri Aug 26 20:54:25 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/" for 127.0.0.1 at Fri Aug 26 20:54:27 -0400 2011
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Fri Aug 26 20:54:27 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 20:57:44 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 20ms (Views: 15.9ms | ActiveRecord: 0.3ms)


Started GET "/path/to/less.js" for 127.0.0.1 at Fri Aug 26 20:57:44 -0400 2011

ActionController::RoutingError (No route matches "/path/to/less.js"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.2ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 20:57:52 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 130ms (Views: 18.6ms | ActiveRecord: 0.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:00:41 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb (10.2ms)
Completed 200 OK in 38ms (Views: 16.9ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:01:38 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb (8.6ms)
Completed 200 OK in 18ms (Views: 15.0ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:01:39 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb (9.3ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:07:45 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb (8.5ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:07:46 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb (9.7ms)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:07:47 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb (8.6ms)
Completed 200 OK in 19ms (Views: 15.7ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:07:53 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb (13.9ms)
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:09:56 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered banks/index.html.erb (9.7ms)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Fri Aug 26 21:10:07 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered banks/index.html.erb (9.1ms)
Completed 200 OK in 19ms (Views: 15.6ms | ActiveRecord: 0.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (10.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (56.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (245.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (83.2ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (124.1ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (106.0ms)[0m  CREATE TABLE `categories_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (101.8ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (98.9ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (7.5ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `categories_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `categories_rate_types`
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (1.8ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (4.3ms)[0m  [1mdescribe `banks`[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO `banks` (`abbr`, `logo_url`, `updated_at`, `created_at`, `name`) VALUES (NULL, NULL, '2011-08-27 02:47:38', '2011-08-27 02:47:38', 'Desjardins')
  [1m[36mSQL (26.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`abbr`, `logo_url`, `updated_at`, `created_at`, `name`) VALUES (NULL, NULL, '2011-08-27 02:47:38', '2011-08-27 02:47:38', 'ING')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mBank Load (0.2ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (62.0ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (174.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (94.2ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (109.4ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoriesRateTypes (20110826020347)
  [1m[35mSQL (267.8ms)[0m  CREATE TABLE `categories_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (114.5ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (129.7ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.4ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `categories_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `categories_rate_types`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (58.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (236.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (127.8ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (121.4ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (112.6ms)[0m  CREATE TABLE `categoriy_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (113.7ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (112.7ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `categoriy_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `categoriy_rate_types`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (0.9ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (50.5ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (125.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (102.8ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (125.6ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (172.6ms)[0m  CREATE TABLE `category_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (105.1ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (113.5ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `category_rate_types`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (1.3ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (12.5ms)[0m  describe `categories`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `created_at`, `name`) VALUES ('2011-08-27 22:27:41', '2011-08-27 22:27:41', 'hypotheque')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-27 22:27:41', 6, 'TauxFixeFerme', '2011-08-27 22:27:41')[0m
  [1m[35mSQL (10.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `created_at`, `category_id`, `rate_type_id`) VALUES ('2011-08-27 22:27:41', '2011-08-27 22:27:41', 1, NULL)[0m
  [1m[35mAREL (0.8ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:27:41' WHERE `rate_types`.`id` = 1
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (18.8ms)[0m  BEGIN
  [1m[36mSQL (8.0ms)[0m  [1mdescribe `banks`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`updated_at`, `abbr`, `logo_url`, `created_at`, `name`) VALUES ('2011-08-27 22:32:16', NULL, NULL, '2011-08-27 22:32:16', 'Desjardins')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`updated_at`, `abbr`, `logo_url`, `created_at`, `name`) VALUES ('2011-08-27 22:32:16', NULL, NULL, '2011-08-27 22:32:16', 'ING')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`name`, `created_at`, `updated_at`) VALUES ('hypotheque', '2011-08-27 22:32:33', '2011-08-27 22:32:33')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:32:33', 6, '2011-08-27 22:32:33')[0m
  [1m[35mSQL (8.8ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `rate_type_id`, `created_at`) VALUES (1, '2011-08-27 22:32:33', NULL, '2011-08-27 22:32:33')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:32:33' WHERE `rate_types`.`id` = 1
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `name`, `updated_at`) VALUES ('2011-08-27 22:34:10', 'hypotheque', '2011-08-27 22:34:10')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (6, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')[0m
  [1m[35mSQL (11.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 1
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `rates`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (4, NULL, '2011-08-27 22:34:10', 1, '2011-08-27 22:34:10')
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `category_rate_types`.`id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (12, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 2
  [1m[36mSQL (14.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (3, NULL, '2011-08-27 22:34:10', 1, '2011-08-27 22:34:10')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `category_rate_types`.`id` = 2
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (24, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 3[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (3, NULL, '2011-08-27 22:34:10', 1, '2011-08-27 22:34:10')
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `category_rate_types`.`id` = 3[0m
  [1m[35mSQL (6.8ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (36, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 4
  [1m[36mSQL (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (4, NULL, '2011-08-27 22:34:10', 1, '2011-08-27 22:34:10')[0m
  [1m[35mAREL (0.1ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `category_rate_types`.`id` = 4
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (48, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')[0m
  [1m[35mSQL (1.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 5[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (4, NULL, '2011-08-27 22:34:10', 1, '2011-08-27 22:34:10')
  [1m[36mAREL (0.1ms)[0m  [1mUPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `category_rate_types`.`id` = 5[0m
  [1m[35mSQL (10.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (60, 'TauxFixeFerme', '2011-08-27 22:34:10', '2011-08-27 22:34:10')
  [1m[36mSQL (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:10', 1, '2011-08-27 22:34:10', NULL)[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:10' WHERE `rate_types`.`id` = 6
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (5, NULL, '2011-08-27 22:34:11', 1, '2011-08-27 22:34:11')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:11' WHERE `category_rate_types`.`id` = 6
  [1m[36mSQL (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (84, 'TauxFixeFerme', '2011-08-27 22:34:11', '2011-08-27 22:34:11')[0m
  [1m[35mSQL (4.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:11', 1, '2011-08-27 22:34:11', NULL)
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:11' WHERE `rate_types`.`id` = 7[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (6, NULL, '2011-08-27 22:34:11', 1, '2011-08-27 22:34:11')
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:11' WHERE `category_rate_types`.`id` = 7[0m
  [1m[35mSQL (1.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (120, 'TauxFixeFerme', '2011-08-27 22:34:11', '2011-08-27 22:34:11')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `category_id`, `created_at`, `rate_type_id`) VALUES ('2011-08-27 22:34:11', 1, '2011-08-27 22:34:11', NULL)[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `rate_types` SET `updated_at` = '2011-08-27 22:34:11' WHERE `rate_types`.`id` = 8
  [1m[36mSQL (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `category_rate_type_id`, `created_at`, `bank_id`, `updated_at`) VALUES (6, NULL, '2011-08-27 22:34:11', 1, '2011-08-27 22:34:11')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:34:11' WHERE `category_rate_types`.`id` = 8
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (12.2ms)[0m  [1mDELETE FROM `rates`[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (21.0ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.7ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `name`, `abbr`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:37:20', 'Desjardins', NULL, NULL, '2011-08-27 22:37:20')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`created_at`, `name`, `abbr`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:37:20', 'ING', NULL, NULL, '2011-08-27 22:37:20')
  [1m[36mSQL (18.6ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (23.5ms)[0m  describe `categories`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `name`, `created_at`) VALUES ('2011-08-27 22:37:35', 'hypotheque', '2011-08-27 22:37:35')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `updated_at`, `nb_month`) VALUES ('TauxFixeFerme', '2011-08-27 22:37:35', '2011-08-27 22:37:35', 6)[0m
  [1m[35mSQL (11.5ms)[0m  COMMIT
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 6, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')[0m
  [1m[35mSQL (8.8ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 9
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 12, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 3, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 10
  [1m[36mSQL (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 24, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 3, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 11
  [1m[36mSQL (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 36, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (12.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 12
  [1m[36mSQL (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 48, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (3.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.7ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 13
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 60, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (2.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 5, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 14
  [1m[36mSQL (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 84, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (3.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 6, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 15
  [1m[36mSQL (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `updated_at`, `name`) VALUES ('2011-08-27 22:37:59', 120, '2011-08-27 22:37:59', 'TauxFixeFerme')[0m
  [1m[35mSQL (3.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `category_id`, `created_at`) VALUES ('2011-08-27 22:37:59', 1, 2, '2011-08-27 22:37:59')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 6, NULL, '2011-08-27 22:37:59', '2011-08-27 22:37:59')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:37:59' WHERE `category_rate_types`.`id` = 16
  [1m[36mSQL (1.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (12.3ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (5.7ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (1.4ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `name`, `abbr`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:38:08', 'Desjardins', NULL, NULL, '2011-08-27 22:38:08')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`created_at`, `name`, `abbr`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:38:08', 'ING', NULL, NULL, '2011-08-27 22:38:08')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (7.5ms)[0m  describe `categories`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `categories` (`created_at`, `name`, `updated_at`) VALUES ('2011-08-27 22:38:15', 'hypotheque', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  describe `rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (6, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (9.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 17
  [1m[36mSQL (7.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (12, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 3, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 18
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (24, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 3, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 19
  [1m[36mSQL (19.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (36, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (4.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 20
  [1m[36mSQL (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (48, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 4, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 21
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (60, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (1.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 5, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 22
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (84, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (3.9ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 6, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 23
  [1m[36mSQL (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `created_at`, `updated_at`) VALUES (120, 'TauxFixeFerme', '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:15', 3, '2011-08-27 22:38:15', 1)
  [1m[36mSQL (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `percent_rate`, `category_rate_type_id`, `updated_at`, `created_at`) VALUES (1, 6, NULL, '2011-08-27 22:38:15', '2011-08-27 22:38:15')[0m
  [1m[35mAREL (0.2ms)[0m  UPDATE `category_rate_types` SET `updated_at` = '2011-08-27 22:38:15' WHERE `category_rate_types`.`id` = 24
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (21.5ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (2.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `abbr`, `logo_url`, `name`, `updated_at`) VALUES ('2011-08-27 22:38:46', NULL, NULL, 'Desjardins', '2011-08-27 22:38:46')[0m
  [1m[35mSQL (1.2ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`created_at`, `abbr`, `logo_url`, `name`, `updated_at`) VALUES ('2011-08-27 22:38:46', NULL, NULL, 'ING', '2011-08-27 22:38:46')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (4.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `name`, `created_at`) VALUES ('2011-08-27 22:38:52', 'hypotheque', '2011-08-27 22:38:52')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rate_types`
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 6, '2011-08-27 22:38:52')[0m
  [1m[35mSQL (9.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.3ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (4, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)[0m
  [1m[35mSQL (19.7ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 12, '2011-08-27 22:38:52')
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (3, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)
  [1m[36mSQL (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 24, '2011-08-27 22:38:52')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (3, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 36, '2011-08-27 22:38:52')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)[0m
  [1m[35mSQL (25.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (4, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 48, '2011-08-27 22:38:52')[0m
  [1m[35mSQL (1.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (4, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 60, '2011-08-27 22:38:52')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (5, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)
  [1m[36mSQL (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 84, '2011-08-27 22:38:52')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)
  [1m[36mSQL (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (6, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:38:52', 120, '2011-08-27 22:38:52')
  [1m[36mSQL (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-27 22:38:52', 4, '2011-08-27 22:38:52', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `created_at`, `bank_id`, `category_rate_type_id`) VALUES (6, '2011-08-27 22:38:52', '2011-08-27 22:38:52', 1, 1)
  [1m[36mSQL (3.1ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (8.8ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (14.1ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (1.4ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `abbr`, `logo_url`, `name`, `updated_at`) VALUES ('2011-08-27 22:39:27', NULL, NULL, 'Desjardins', '2011-08-27 22:39:27')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `banks` (`created_at`, `abbr`, `logo_url`, `name`, `updated_at`) VALUES ('2011-08-27 22:39:27', NULL, NULL, 'ING', '2011-08-27 22:39:27')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `name`, `updated_at`) VALUES ('2011-08-27 22:40:30', 'hypotheque', '2011-08-27 22:40:30')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (6, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')[0m
  [1m[35mSQL (11.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 4, '2011-08-27 22:40:30')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (12, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')
  [1m[36mSQL (15.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 3, '2011-08-27 22:40:30')
  [1m[36mSQL (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (24, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')[0m
  [1m[35mSQL (4.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 3, '2011-08-27 22:40:30')[0m
  [1m[35mSQL (11.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.6ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (36, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 4, '2011-08-27 22:40:30')
  [1m[36mSQL (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.5ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (48, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')[0m
  [1m[35mSQL (3.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 4, '2011-08-27 22:40:30')[0m
  [1m[35mSQL (3.6ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (60, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)[0m
  [1m[35mSQL (2.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 5, '2011-08-27 22:40:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (84, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')[0m
  [1m[35mSQL (1.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (1.9ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 6, '2011-08-27 22:40:30')[0m
  [1m[35mSQL (1.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`nb_month`, `name`, `updated_at`, `created_at`) VALUES (120, 'TauxFixeFerme', '2011-08-27 22:40:30', '2011-08-27 22:40:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `updated_at`, `rate_type_id`, `category_id`) VALUES ('2011-08-27 22:40:30', '2011-08-27 22:40:30', 1, 5)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `created_at`, `category_rate_type_id`, `percent_rate`, `updated_at`) VALUES (1, '2011-08-27 22:40:30', 1, 6, '2011-08-27 22:40:30')
  [1m[36mSQL (7.7ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.5ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (47.3ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`name`, `abbr`, `logo_url`, `updated_at`, `created_at`) VALUES ('Desjardins', NULL, NULL, '2011-08-27 22:45:30', '2011-08-27 22:45:30')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`name`, `abbr`, `logo_url`, `updated_at`, `created_at`) VALUES ('ING', NULL, NULL, '2011-08-27 22:45:30', '2011-08-27 22:45:30')
  [1m[36mSQL (43.6ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.4ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.0ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `name`, `created_at`) VALUES ('2011-08-27 22:45:35', 'hypotheque', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  describe `rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 6, '2011-08-27 22:45:35')[0m
  [1m[35mSQL (15.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rates`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 41, 4, 1)[0m
  [1m[35mSQL (12.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 12, '2011-08-27 22:45:35')
  [1m[36mSQL (3.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 42, 3, 1)
  [1m[36mSQL (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 24, '2011-08-27 22:45:35')[0m
  [1m[35mSQL (1.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')
  [1m[36mSQL (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 43, 3, 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 36, '2011-08-27 22:45:35')
  [1m[36mSQL (2.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 44, 4, 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 48, '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 45, 4, 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 60, '2011-08-27 22:45:35')
  [1m[36mSQL (19.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 46, 5, 1)
  [1m[36mSQL (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 84, '2011-08-27 22:45:35')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')
  [1m[36mSQL (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 47, 6, 1)[0m
  [1m[35mSQL (6.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:45:35', 120, '2011-08-27 22:45:35')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `created_at`, `updated_at`) VALUES (6, 1, '2011-08-27 22:45:35', '2011-08-27 22:45:35')[0m
  [1m[35mSQL (1.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `created_at`, `category_rate_type_id`, `percent_rate`, `bank_id`) VALUES ('2011-08-27 22:45:35', '2011-08-27 22:45:35', 48, 6, 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (19.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (16.7ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (2.7ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (4.4ms)[0m  DELETE FROM `category_rate_types`
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`created_at`, `abbr`, `name`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:46:12', NULL, 'Desjardins', NULL, '2011-08-27 22:46:12')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO `banks` (`created_at`, `abbr`, `name`, `logo_url`, `updated_at`) VALUES ('2011-08-27 22:46:12', NULL, 'ING', NULL, '2011-08-27 22:46:12')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (7.1ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`created_at`, `updated_at`, `name`) VALUES ('2011-08-27 22:46:20', '2011-08-27 22:46:20', 'hypotheque')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 6, '2011-08-27 22:46:20')[0m
  [1m[35mSQL (11.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 50)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (4, '2011-08-27 22:46:20', 49, '2011-08-27 22:46:20', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 12, '2011-08-27 22:46:20')
  [1m[36mSQL (29.9ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 51)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (3, '2011-08-27 22:46:20', 50, '2011-08-27 22:46:20', 1)
  [1m[36mSQL (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 24, '2011-08-27 22:46:20')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 52)
  [1m[36mSQL (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (3, '2011-08-27 22:46:20', 51, '2011-08-27 22:46:20', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 36, '2011-08-27 22:46:20')
  [1m[36mSQL (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 53)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (4, '2011-08-27 22:46:20', 52, '2011-08-27 22:46:20', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 48, '2011-08-27 22:46:20')[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 54)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (4, '2011-08-27 22:46:20', 53, '2011-08-27 22:46:20', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 60, '2011-08-27 22:46:20')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 55)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (5, '2011-08-27 22:46:20', 54, '2011-08-27 22:46:20', 1)
  [1m[36mSQL (3.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 84, '2011-08-27 22:46:20')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 56)
  [1m[36mSQL (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (6, '2011-08-27 22:46:20', 55, '2011-08-27 22:46:20', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:46:20', 120, '2011-08-27 22:46:20')
  [1m[36mSQL (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (7, '2011-08-27 22:46:20', '2011-08-27 22:46:20', 57)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `updated_at`, `category_rate_type_id`, `created_at`, `bank_id`) VALUES (6, '2011-08-27 22:46:20', 56, '2011-08-27 22:46:20', 1)
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (26.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (1.5ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (4.4ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`abbr`, `logo_url`, `created_at`, `name`, `updated_at`) VALUES (NULL, NULL, '2011-08-27 22:51:36', 'Desjardins', '2011-08-27 22:51:36')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`abbr`, `logo_url`, `created_at`, `name`, `updated_at`) VALUES (NULL, NULL, '2011-08-27 22:51:36', 'ING', '2011-08-27 22:51:36')
  [1m[36mSQL (19.0ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:52:29', NULL, '2011-08-27 22:52:29', 'Desjardins')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:52:29', NULL, '2011-08-27 22:52:29', 'ING')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `banks`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:55:33', NULL, '2011-08-27 22:55:33', 'Desjardins')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:55:33', NULL, '2011-08-27 22:55:33', 'ING')
  [1m[36mSQL (1.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (17.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (20.7ms)[0m  describe `banks`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:56:00', NULL, '2011-08-27 22:56:00', 'Desjardins')[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:56:00', NULL, '2011-08-27 22:56:00', 'ING')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (44.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (141.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (125.0ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (134.1ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (122.1ms)[0m  CREATE TABLE `category_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (129.4ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (130.3ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `category_rate_types`
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (1.1ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:56:41', NULL, '2011-08-27 22:56:41', 'Desjardins')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO `banks` (`abbr`, `created_at`, `logo_url`, `updated_at`, `name`) VALUES (NULL, '2011-08-27 22:56:41', NULL, '2011-08-27 22:56:41', 'ING')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.7ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `created_at`, `name`) VALUES ('2011-08-27 22:56:48', '2011-08-27 22:56:48', 'hypotheque')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:48', 6, '2011-08-27 22:56:48')[0m
  [1m[35mSQL (18.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 1)[0m
  [1m[35mSQL (6.9ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (4, 1, '2011-08-27 22:56:49', 1, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 12, '2011-08-27 22:56:49')
  [1m[36mSQL (19.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 2)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (3, 1, '2011-08-27 22:56:49', 2, '2011-08-27 22:56:49')
  [1m[36mSQL (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 24, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (1.6ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 3)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (3, 1, '2011-08-27 22:56:49', 3, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 36, '2011-08-27 22:56:49')
  [1m[36mSQL (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 4)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (4, 1, '2011-08-27 22:56:49', 4, '2011-08-27 22:56:49')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 48, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 5)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (4, 1, '2011-08-27 22:56:49', 5, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 60, '2011-08-27 22:56:49')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 6)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (5, 1, '2011-08-27 22:56:49', 6, '2011-08-27 22:56:49')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 84, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 7)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (6, 1, '2011-08-27 22:56:49', 7, '2011-08-27 22:56:49')[0m
  [1m[35mSQL (3.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`name`, `created_at`, `nb_month`, `updated_at`) VALUES ('TauxFixeFerme', '2011-08-27 22:56:49', 120, '2011-08-27 22:56:49')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `updated_at`, `created_at`, `rate_type_id`) VALUES (1, '2011-08-27 22:56:49', '2011-08-27 22:56:49', 8)[0m
  [1m[35mSQL (2.1ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `category_rate_type_id`, `updated_at`) VALUES (6, 1, '2011-08-27 22:56:49', 8, '2011-08-27 22:56:49')
  [1m[36mSQL (6.5ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (33.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 6, 'TauxFixeFerme', '2011-08-28 00:13:54')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 9, '2011-08-28 00:13:54', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (4, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 9)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 12, 'TauxFixeFerme', '2011-08-28 00:13:54')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 10, '2011-08-28 00:13:54', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (3, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 10)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 24, 'TauxFixeFerme', '2011-08-28 00:13:54')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 11, '2011-08-28 00:13:54', 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (3, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 11)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 36, 'TauxFixeFerme', '2011-08-28 00:13:54')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 12, '2011-08-28 00:13:54', 1)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (4, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 12)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 48, 'TauxFixeFerme', '2011-08-28 00:13:54')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 13, '2011-08-28 00:13:54', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (4, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 13)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 60, 'TauxFixeFerme', '2011-08-28 00:13:54')
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 14, '2011-08-28 00:13:54', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (5, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 14)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 84, 'TauxFixeFerme', '2011-08-28 00:13:54')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 15, '2011-08-28 00:13:54', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (6, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 15)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 00:13:54', 120, 'TauxFixeFerme', '2011-08-28 00:13:54')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`updated_at`, `rate_type_id`, `created_at`, `category_id`) VALUES ('2011-08-28 00:13:54', 16, '2011-08-28 00:13:54', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`percent_rate`, `bank_id`, `created_at`, `updated_at`, `category_rate_type_id`) VALUES (6, 1, '2011-08-28 00:13:54', '2011-08-28 00:13:54', 16)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 6, 'TauxFixeFerme', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 17, '2011-08-28 00:14:30', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (10.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  describe `rates`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 4.4, '2011-08-28 00:14:30', 17)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 12, 'TauxFixeFerme', '2011-08-28 00:14:30')
  [1m[36mSQL (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 18, '2011-08-28 00:14:30', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 3.49, '2011-08-28 00:14:30', 18)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 24, 'TauxFixeFerme', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 19, '2011-08-28 00:14:30', '2011-08-28 00:14:30')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 3.85, '2011-08-28 00:14:30', 19)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 36, 'TauxFixeFerme', '2011-08-28 00:14:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 20, '2011-08-28 00:14:30', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 4.35, '2011-08-28 00:14:30', 20)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 48, 'TauxFixeFerme', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (15.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 21, '2011-08-28 00:14:30', '2011-08-28 00:14:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 4.99, '2011-08-28 00:14:30', 21)[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 60, 'TauxFixeFerme', '2011-08-28 00:14:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 22, '2011-08-28 00:14:30', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 5.39, '2011-08-28 00:14:30', 22)
  [1m[36mSQL (3.9ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 84, 'TauxFixeFerme', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 23, '2011-08-28 00:14:30', '2011-08-28 00:14:30')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 6.35, '2011-08-28 00:14:30', 23)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:14:30', 120, 'TauxFixeFerme', '2011-08-28 00:14:30')
  [1m[36mSQL (4.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 24, '2011-08-28 00:14:30', '2011-08-28 00:14:30')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:14:30', 6.75, '2011-08-28 00:14:30', 24)
  [1m[36mSQL (2.9ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 6, 'TauxFixeFerme', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 25, '2011-08-28 00:15:11', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (13.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 4.4, '2011-08-28 00:15:11', 25)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 12, 'TauxFixeFerme', '2011-08-28 00:15:11')
  [1m[36mSQL (17.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 26, '2011-08-28 00:15:11', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 3.49, '2011-08-28 00:15:11', 26)
  [1m[36mSQL (4.1ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 24, 'TauxFixeFerme', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 27, '2011-08-28 00:15:11', '2011-08-28 00:15:11')
  [1m[36mSQL (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 3.85, '2011-08-28 00:15:11', 27)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 36, 'TauxFixeFerme', '2011-08-28 00:15:11')
  [1m[36mSQL (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 28, '2011-08-28 00:15:11', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 4.35, '2011-08-28 00:15:11', 28)
  [1m[36mSQL (4.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 48, 'TauxFixeFerme', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 29, '2011-08-28 00:15:11', '2011-08-28 00:15:11')
  [1m[36mSQL (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 4.99, '2011-08-28 00:15:11', 29)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 60, 'TauxFixeFerme', '2011-08-28 00:15:11')
  [1m[36mSQL (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 30, '2011-08-28 00:15:11', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 5.39, '2011-08-28 00:15:11', 30)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (1.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 84, 'TauxFixeFerme', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (7.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 31, '2011-08-28 00:15:11', '2011-08-28 00:15:11')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 6.35, '2011-08-28 00:15:11', 31)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`updated_at`, `nb_month`, `name`, `created_at`) VALUES ('2011-08-28 00:15:11', 120, 'TauxFixeFerme', '2011-08-28 00:15:11')
  [1m[36mSQL (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `rate_type_id`, `updated_at`, `created_at`) VALUES (1, 32, '2011-08-28 00:15:11', '2011-08-28 00:15:11')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`bank_id`, `updated_at`, `percent_rate`, `created_at`, `category_rate_type_id`) VALUES (1, '2011-08-28 00:15:11', 6.75, '2011-08-28 00:15:11', 32)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Sat Aug 27 21:03:02 -0400 2011
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (Inconsistent indentation: "\t  " was used for indentation, but the rest of the document was indented using 2 spaces.):
    5:     -# To render a different stylesheet partial inside the head (i.e. for admin layout)
    6:     -# just copy _stylesheets.html.haml, and point to that partial instead.
    7:     = render "layouts/head", :stylesheet_partial => "layouts/stylesheets"
    8: 	  = stylesheet_link_tag 'style.css', :media => 'all' 
    9: 
    10:   
    11:   %body{ :class => "#{controller.controller_name}" }
  app/views/layouts/application.html.haml:8

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Sat Aug 27 21:05:11 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (26.4ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered home/index.html.erb within layouts/application (64.2ms)
Completed 200 OK in 72ms (Views: 71.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sat Aug 27 21:05:42 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.erb within layouts/application (34.0ms)
Completed 200 OK in 41ms (Views: 40.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sat Aug 27 21:05:45 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (75.8ms)
Rendered layouts/_head.html.haml (83.3ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.3ms)
Rendered home/index.html.erb within layouts/application (110.2ms)
Completed 200 OK in 117ms (Views: 116.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sat Aug 27 21:06:01 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (80.6ms)
Rendered home/index.html.erb within layouts/application (110.0ms)
Completed 200 OK in 117ms (Views: 116.7ms | ActiveRecord: 0.0ms)


Started GET "/banks" for 127.0.0.1 at Sat Aug 27 21:06:11 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.7ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.2ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (76.9ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered banks/index.html.erb within layouts/application (120.6ms)
Completed 200 OK in 192ms (Views: 155.6ms | ActiveRecord: 0.7ms)


Started GET "/banks/1" for 127.0.0.1 at Sat Aug 27 21:06:13 -0400 2011
  Processing by BanksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mBank Load (0.4ms)[0m  [1mSELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (83.6ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered banks/show.html.erb within layouts/application (129.0ms)
Completed 200 OK in 147ms (Views: 137.5ms | ActiveRecord: 1.1ms)


Started GET "/rates" for 127.0.0.1 at Sat Aug 27 21:06:16 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/index.html.erb within layouts/application (161.4ms)
Completed 200 OK in 183ms (Views: 169.0ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (58.7ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.3ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (164.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateBanks (20110826015420)
  [1m[35mSQL (49.9ms)[0m  CREATE TABLE `banks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `abbr` varchar(255), `logo_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826015420')[0m
Migrating to CreateRates (20110826020211)
  [1m[35mSQL (104.8ms)[0m  CREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bank_id` int(11), `category_rate_type_id` int(11), `percent_rate` decimal, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020211')[0m
Migrating to CreateCategoryRateTypes (20110826020347)
  [1m[35mSQL (103.5ms)[0m  CREATE TABLE `category_rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category_id` int(11), `rate_type_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020347')[0m
Migrating to CreateRateTypes (20110826020428)
  [1m[35mSQL (104.6ms)[0m  CREATE TABLE `rate_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `nb_month` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020428')[0m
Migrating to CreateCategories (20110826020507)
  [1m[35mSQL (105.1ms)[0m  CREATE TABLE `categories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20110826020507')[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `banks`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `banks`
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `categories`[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `categories`
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `category_rate_types`
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mSQL (0.2ms)[0m  SHOW KEYS FROM `rate_types`
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `rates`[0m
  [1m[35mSQL (0.3ms)[0m  SHOW KEYS FROM `rates`
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `banks`
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM `rates`[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM `rate_types`
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM `categories`[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM `category_rate_types`
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `banks`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `banks` (`name`, `abbr`, `created_at`, `logo_url`, `updated_at`) VALUES ('Desjardins', NULL, '2011-08-28 01:07:17', NULL, '2011-08-28 01:07:17')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
WARNING: Can't mass-assign protected attributes: id
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `banks` (`name`, `abbr`, `created_at`, `logo_url`, `updated_at`) VALUES ('ING', NULL, '2011-08-28 01:07:17', NULL, '2011-08-28 01:07:17')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  describe `categories`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `categories` (`updated_at`, `created_at`, `name`) VALUES ('2011-08-28 01:07:28', '2011-08-28 01:07:28', 'hypotheque')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  describe `rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 6, 'TauxFixeFerme', '2011-08-28 01:07:28')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  describe `category_rate_types`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 1)[0m
  [1m[35mSQL (8.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (16.4ms)[0m  describe `rates`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (1, '2011-08-28 01:07:28', 4, '2011-08-28 01:07:28', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 12, 'TauxFixeFerme', '2011-08-28 01:07:28')
  [1m[36mSQL (13.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 2)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (2, '2011-08-28 01:07:28', 3, '2011-08-28 01:07:28', 1)
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 24, 'TauxFixeFerme', '2011-08-28 01:07:28')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 3)
  [1m[36mSQL (7.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (3, '2011-08-28 01:07:28', 3, '2011-08-28 01:07:28', 1)[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 36, 'TauxFixeFerme', '2011-08-28 01:07:28')
  [1m[36mSQL (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 4)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (4, '2011-08-28 01:07:28', 4, '2011-08-28 01:07:28', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 48, 'TauxFixeFerme', '2011-08-28 01:07:28')[0m
  [1m[35mSQL (1.0ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 5)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (5, '2011-08-28 01:07:28', 4, '2011-08-28 01:07:28', 1)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 60, 'TauxFixeFerme', '2011-08-28 01:07:28')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 6)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (6, '2011-08-28 01:07:28', 5, '2011-08-28 01:07:28', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mCategory Load (0.1ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 84, 'TauxFixeFerme', '2011-08-28 01:07:28')[0m
  [1m[35mSQL (9.8ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 7)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (7, '2011-08-28 01:07:28', 6, '2011-08-28 01:07:28', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rate_types` (`created_at`, `nb_month`, `name`, `updated_at`) VALUES ('2011-08-28 01:07:28', 120, 'TauxFixeFerme', '2011-08-28 01:07:28')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`created_at`, `category_id`, `updated_at`, `rate_type_id`) VALUES ('2011-08-28 01:07:28', 1, '2011-08-28 01:07:28', 8)[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`category_rate_type_id`, `updated_at`, `percent_rate`, `created_at`, `bank_id`) VALUES (8, '2011-08-28 01:07:28', 6, '2011-08-28 01:07:28', 1)
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/rates" for 127.0.0.1 at Sat Aug 27 21:07:52 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.4ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (99.4ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/index.html.erb within layouts/application (147.3ms)
Completed 200 OK in 190ms (Views: 155.6ms | ActiveRecord: 0.4ms)


Started GET "/rates/new" for 127.0.0.1 at Sat Aug 27 21:08:00 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.erb (148.9ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (1.3ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered rates/new.html.erb within layouts/application (190.6ms)
Completed 200 OK in 255ms (Views: 244.7ms | ActiveRecord: 0.0ms)


Started GET "/rates" for 127.0.0.1 at Sat Aug 27 21:08:20 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/index.html.erb within layouts/application (133.9ms)
Completed 200 OK in 150ms (Views: 141.6ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/rates" for 127.0.0.1 at Sat Aug 27 21:36:12 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (94.0ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/index.html.erb within layouts/application (143.1ms)
Completed 200 OK in 212ms (Views: 151.1ms | ActiveRecord: 0.3ms)


Started GET "/rates/new" for 127.0.0.1 at Sat Aug 27 21:36:17 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.erb (125.6ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (10.8ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (2.3ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/new.html.erb within layouts/application (166.7ms)
Completed 200 OK in 184ms (Views: 174.2ms | ActiveRecord: 0.0ms)


Started GET "/rates/4" for 127.0.0.1 at Sat Aug 27 21:56:01 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mSQL (48.1ms)[0m  SHOW TABLES
  [1m[36mRate Load (1.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 4 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.8ms)
Rendered layouts/_head.html.haml (34.4ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered rates/show.html.erb within layouts/application (111.9ms)
Completed 200 OK in 319ms (Views: 234.3ms | ActiveRecord: 49.4ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 21:56:13 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (13.2ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (6.8ms)
Rendered rates/edit.html.erb within layouts/application (53.9ms)
Completed 200 OK in 158ms (Views: 70.4ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:26:00 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (20.6ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/edit.html.erb within layouts/application (169.0ms)
Completed 200 OK in 186ms (Views: 176.1ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:26:06 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (94.4ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/edit.html.erb within layouts/application (133.2ms)
Completed 200 OK in 150ms (Views: 140.1ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:26:50 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (86.3ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (95.0ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/edit.html.erb within layouts/application (216.2ms)
Completed 200 OK in 293ms (Views: 224.5ms | ActiveRecord: 0.8ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:27:14 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (11.2ms)
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (85.8ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (4.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/edit.html.erb within layouts/application (130.7ms)
Completed 200 OK in 147ms (Views: 137.7ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:27:24 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (15.4ms)
Rendered layouts/_stylesheets.html.haml (84.4ms)
Rendered layouts/_head.html.haml (92.4ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered rates/edit.html.erb within layouts/application (137.1ms)
Completed 200 OK in 160ms (Views: 144.1ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:29:14 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (22.9ms)
Rendered layouts/_stylesheets.html.haml (83.3ms)
Rendered layouts/_head.html.haml (90.6ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered rates/edit.html.erb within layouts/application (142.5ms)
Completed 200 OK in 213ms (Views: 150.6ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:29:25 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (11.4ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.4ms)
Rendered layouts/_header.html.haml (1.6ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/edit.html.erb within layouts/application (135.4ms)
Completed 200 OK in 153ms (Views: 142.7ms | ActiveRecord: 0.5ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:29:57 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (23.2ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (88.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.5ms)
Rendered rates/edit.html.erb within layouts/application (150.1ms)
Completed 200 OK in 216ms (Views: 157.1ms | ActiveRecord: 0.3ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:30:36 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (14.1ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (15.6ms)
Rendered layouts/_header.html.haml (1.3ms)
Rendered layouts/_flashes.html.haml (87.6ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (7.1ms)
Rendered rates/edit.html.erb within layouts/application (147.6ms)
Completed 200 OK in 165ms (Views: 154.6ms | ActiveRecord: 0.3ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:30:48 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (32.9ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (83.9ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered rates/edit.html.erb within layouts/application (155.7ms)
Completed 200 OK in 172ms (Views: 163.0ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:31:29 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1
Rendered rates/_form.html.erb (11.2ms)
Rendered layouts/_stylesheets.html.haml (2.7ms)
Rendered layouts/_head.html.haml (11.5ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/edit.html.erb within layouts/application (131.1ms)
Completed 200 OK in 148ms (Views: 138.9ms | ActiveRecord: 0.2ms)


Started GET "/rates/3/edit" for 127.0.0.1 at Sat Aug 27 22:31:42 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mRate Load (0.9ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 3 LIMIT 1[0m
Rendered rates/_form.html.erb (10.8ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (81.9ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/edit.html.erb within layouts/application (132.2ms)
Completed 200 OK in 151ms (Views: 139.2ms | ActiveRecord: 0.9ms)


Started GET "/banks" for 127.0.0.1 at Sat Aug 27 22:32:05 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (11.2ms)
Rendered layouts/_header.html.haml (1.4ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (87.3ms)
Rendered layouts/_javascripts.html.haml (6.2ms)
Rendered banks/index.html.erb within layouts/application (134.0ms)
Completed 200 OK in 202ms (Views: 141.8ms | ActiveRecord: 0.3ms)


Started GET "/banks/1/edit" for 127.0.0.1 at Sat Aug 27 22:32:07 -0400 2011
  Processing by BanksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 1 LIMIT 1[0m
Rendered banks/_form.html.erb (12.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.6ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (90.4ms)
Rendered banks/edit.html.erb within layouts/application (138.4ms)
Completed 200 OK in 154ms (Views: 145.7ms | ActiveRecord: 0.3ms)


Started GET "/banks/1/edit" for 127.0.0.1 at Sat Aug 27 22:41:54 -0400 2011
  Processing by BanksController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBank Load (0.8ms)[0m  SELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 1 LIMIT 1
Rendered banks/_form.html.erb (10.7ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (1.9ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.3ms)
Rendered banks/edit.html.erb within layouts/application (48.9ms)
Completed 200 OK in 64ms (Views: 55.9ms | ActiveRecord: 0.8ms)


Started GET "/rates" for 127.0.0.1 at Sat Aug 27 22:41:57 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (3.9ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (34.3ms)
Rendered layouts/_header.html.haml (2.7ms)
Rendered layouts/_flashes.html.haml (4.1ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (103.3ms)
Rendered rates/index.html.erb within layouts/application (193.0ms)
Completed 200 OK in 241ms (Views: 225.2ms | ActiveRecord: 3.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:41:59 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.erb (10.9ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.6ms)
Rendered layouts/_header.html.haml (1.3ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (88.7ms)
Rendered rates/edit.html.erb within layouts/application (135.9ms)
Completed 200 OK in 153ms (Views: 143.2ms | ActiveRecord: 0.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:42:27 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.erb (12.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.8ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (85.0ms)
Rendered rates/edit.html.erb within layouts/application (133.5ms)
Completed 200 OK in 155ms (Views: 142.6ms | ActiveRecord: 0.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:42:40 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173612760_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173612760_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2173710200_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.7ms)
Rendered rates/edit.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2173710200_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:47:23 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175309640_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175309640_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2175330760_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.6ms)
Rendered rates/edit.html.erb within layouts/application (10.3ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2175330760_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:47:23 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171733580_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171733580_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2171750340_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (81.2ms)
Rendered rates/edit.html.erb within layouts/application (86.5ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.erb:3:in `_app_views_rates_edit_html_erb__2125129338_2171750340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:47:32 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates_edit_html_haml___639383192_2172467540_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates_edit_html_haml___639383192_2172467540_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/edit";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<div id='h1'>\n  Editing rate\n</div>\n#{


_hamlout.format_script_false_false_false_true_false_true_false(( render 'form'
));}\n", 0, false);
haml_temp =  link_to 'Show', @rate
_hamlout.push_text("|\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n#{_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Back', rates_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/edit.html.haml within layouts/application (3.2ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10: syntax error, unexpected kENSURE, expecting $end):
    7:   |
    8: = link_to 'Back', rates_path
  app/views/rates/edit.html.haml:10:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:47:33 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates_edit_html_haml___639383192_2175994940_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates_edit_html_haml___639383192_2175994940_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/edit";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<div id='h1'>\n  Editing rate\n</div>\n#{


_hamlout.format_script_false_false_false_true_false_true_false(( render 'form'
));}\n", 0, false);
haml_temp =  link_to 'Show', @rate
_hamlout.push_text("|\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n#{_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Back', rates_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/edit.html.haml within layouts/application (6.3ms)
Completed 500 Internal Server Error in 102ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:10: syntax error, unexpected kENSURE, expecting $end):
    7:   |
    8: = link_to 'Back', rates_path
  app/views/rates/edit.html.haml:10:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:47:44 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.4ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172307520_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172307520_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172444980_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (12.3ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172444980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (85.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:48:22 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (1.4ms)
Rendered rates/edit.html.haml within layouts/application (6.3ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (Illegal element: classes and ids must have values.):
    9:           #li
    10:             = msg
    11:           
    12:       #.field.clearfix
    13:         HI!
    14:         = f.label :bank_id
    15:         #.input
  app/views/rates/_form.html.haml:12
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174378280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:48:23 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.9ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (1.2ms)
Rendered rates/edit.html.haml within layouts/application (78.3ms)
Completed 500 Internal Server Error in 97ms

ActionView::Template::Error (Illegal element: classes and ids must have values.):
    9:           #li
    10:             = msg
    11:           
    12:       #.field.clearfix
    13:         HI!
    14:         = f.label :bank_id
    15:         #.input
  app/views/rates/_form.html.haml:12
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171429520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:48:41 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172256240_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172256240_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix' id='div'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172410740_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (9.3ms)
Rendered rates/edit.html.haml within layouts/application (16.0ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172410740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (102.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:49:03 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (1.4ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174694040_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174694040_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <div id='h2'>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </div>\n  <div id='ul'>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <div id='li'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </div>\n", -1, false);end
_hamlout.push_text("  </div>\n  <div class='field clearfix' id='div'>\n    HI!\n    #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input' id='div'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions' id='div'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit
));}\n  </div>\n</div>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174881640_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.7ms)
Rendered rates/edit.html.haml within layouts/application (13.3ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:33: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:33:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174881640_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:28 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175965340_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175965340_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176187660_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (13.6ms)
Completed 500 Internal Server Error in 107ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176187660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:29 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172019120_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172019120_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172119860_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.4ms)
Rendered rates/edit.html.haml within layouts/application (11.8ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172119860_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (78.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (94.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:30 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174131740_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174131740_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174323960_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.3ms)
Rendered rates/edit.html.haml within layouts/application (12.6ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174323960_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:30 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175687340_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175687340_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175881400_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (10.9ms)
Completed 500 Internal Server Error in 106ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175881400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:47 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (7.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171751820_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171751820_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171835140_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (82.3ms)
Rendered rates/edit.html.haml within layouts/application (86.0ms)
Completed 500 Internal Server Error in 110ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171835140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:48 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172457620_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172457620_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172516400_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (11.4ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172516400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175014040_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175014040_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175123840_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (9.3ms)
Rendered rates/edit.html.haml within layouts/application (13.2ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175123840_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:50:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171477640_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171477640_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171531180_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (86.8ms)
Rendered rates/edit.html.haml within layouts/application (91.8ms)
Completed 500 Internal Server Error in 110ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171531180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:03 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172167120_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172167120_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172257440_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (11.5ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172257440_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (98.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (105.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:09 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.2ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (45.7ms)
Completed 200 OK in 62ms (Views: 52.6ms | ActiveRecord: 0.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:40 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.9ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174331500_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174331500_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174419820_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (9.6ms)
Rendered rates/edit.html.haml within layouts/application (15.1ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174419820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:55 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (1.0ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2176068040_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2176068040_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176234380_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (13.8ms)
Completed 500 Internal Server Error in 111ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176234380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:56 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172107340_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172107340_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172238560_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.3ms)
Rendered rates/edit.html.haml within layouts/application (12.3ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172238560_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (91.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (99.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:51:56 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174136860_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174136860_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174328840_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (11.4ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174328840_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:53:10 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175421000_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175421000_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175504420_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (11.3ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175504420_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:53:11 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171737240_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171737240_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171809760_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (82.0ms)
Rendered rates/edit.html.haml within layouts/application (86.7ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171809760_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:53:43 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172260960_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172260960_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for(@rate) do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172390900_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172390900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:53:44 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175013920_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175013920_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for(@rate) do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175123840_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.3ms)
Rendered rates/edit.html.haml within layouts/application (11.3ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175123840_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:53:48 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2176290260_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2176290260_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form_for(@rate) do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n  <div class='field clearfix'>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n    </div>\n  </div>\n  <div class='field clearfix'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n    <div class='input'>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n    </div>\n  </div>\n  <div class='actions'>\n    #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n  </div>\n</error_explanation>\n", -2, false);end
end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171460840_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (130.9ms)
Completed 500 Internal Server Error in 148ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:32: syntax error, unexpected kENSURE, expecting $end):
0  app/views/rates/_form.html.haml:32:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171460840_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:04 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172085460_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172085460_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172163180_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.9ms)
Rendered rates/edit.html.haml within layouts/application (12.8ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172163180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (89.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (96.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:05 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174407640_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174407640_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174674980_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (11.4ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174674980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.1ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:14 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175674360_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175674360_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175851000_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (11.8ms)
Completed 500 Internal Server Error in 107ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175851000_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:26 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171749740_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171749740_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171822180_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (84.4ms)
Rendered rates/edit.html.haml within layouts/application (88.2ms)
Completed 500 Internal Server Error in 105ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171822180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:34 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172283680_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172283680_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172437880_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (11.6ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172437880_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.1ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:56:45 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174730520_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174730520_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174908620_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.6ms)
Rendered rates/edit.html.haml within layouts/application (11.5ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174908620_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:57:02 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (1.0ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2176225380_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2176225380_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n", -2, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176291020_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (14.0ms)
Completed 500 Internal Server Error in 110ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end):
    25:       = f.text_field :percent_rate
    26:       
  app/views/rates/_form.html.haml:28:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176291020_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:57:55 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171988120_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171988120_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172106660_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.1ms)
Rendered rates/edit.html.haml within layouts/application (13.2ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172106660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (99.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:58:56 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (0.6ms)
Rendered rates/edit.html.haml within layouts/application (4.2ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (Illegal nesting: content can't be both given on the same line as %form_for and nested within it.):
    1: %form_for @rate do |f|
    2:   - if @rate.errors.any?
    3:     %error_explanation
    4:       %h2
    5:         = pluralize(@rate.errors.count, "error")
  app/views/rates/_form.html.haml:2
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174232340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 22:59:39 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175972160_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175972160_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176186200_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.3ms)
Rendered rates/edit.html.haml within layouts/application (11.8ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2176186200_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:00:12 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171883260_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171883260_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171928320_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.4ms)
Rendered rates/edit.html.haml within layouts/application (11.6ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171928320_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:02:45 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171656580_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171656580_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</error_explanation>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171701800_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.8ms)
Rendered rates/edit.html.haml within layouts/application (11.8ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171701800_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (94.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (102.4ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:05:16 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174257480_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:9: syntax error, unexpected ')'
));}\n      <li>\n        #{_hamlout.adjust_tabs(1); 
 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:9: syntax error, unexpected $undefined
));}\n      <li>\n        #{_hamlout.adjust_tabs(1); 
                 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected '}', expecting kEND
));}\n      </li>\n    </ul>\n  </...
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: unknown regexp option - l
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected $undefined
));}\n      </li>\n    </ul>\n  </h2>\n</error_explanation>...
                             ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: unknown regexp options - rrr
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected tIDENTIFIER, expecting kEND
...\n  </h2>\n</error_explanation>\n", -4, false);end
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:12: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
_hamlout.push_text("<div class='field clearfix'></div>\n#{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:12: syntax error, unexpected '<'
_hamlout.push_text("<div class='field clearfix'></div>\n#{
                                                 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:14: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:14: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected '}', expecting kEND
));}\n<div class='field clearfix'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='field clearfix'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected '<'
));}\n<div class='field clearfix'></div>\n#{
                                   ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:19: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:19: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected '}', expecting kEND
));}\n<div class='field clearfix'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='field clearfix'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected '<'
));}\n<div class='field clearfix'></div>\n#{
                                   ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:24: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:24: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected '}', expecting kEND
));}\n<div class='actions'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='actions'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected '<'
));}\n<div class='actions'></div>\n#{
                            ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: unterminated string meets end of file
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_rates__form_html_haml___1203313504_2174257480_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( @rate.errors.full_messages.each do |msg|
));}\n      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n    </ul>\n  </h2>\n</error_explanation>\n", -4, false);end
_hamlout.push_text("<div class='field clearfix'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n<div class='actions'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174367260_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.0ms)
Rendered rates/edit.html.haml within layouts/application (11.2ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:9: syntax error, unexpected ')'
));}\n      <li>\n        #{_hamlout.adjust_tabs(1); 
 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:9: syntax error, unexpected $undefined
));}\n      <li>\n        #{_hamlout.adjust_tabs(1); 
                 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected '}', expecting kEND
));}\n      </li>\n    </ul>\n  </...
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: unknown regexp option - l
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected $undefined
));}\n      </li>\n    </ul>\n  </h2>\n</error_explanation>...
                             ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: unknown regexp options - rrr
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:11: syntax error, unexpected tIDENTIFIER, expecting kEND
...\n  </h2>\n</error_explanation>\n", -4, false);end
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:12: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
_hamlout.push_text("<div class='field clearfix'></div>\n#{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:12: syntax error, unexpected '<'
_hamlout.push_text("<div class='field clearfix'></div>\n#{
                                                 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:14: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:14: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected '}', expecting kEND
));}\n<div class='field clearfix'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='field clearfix'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:16: syntax error, unexpected '<'
));}\n<div class='field clearfix'></div>\n#{
                                   ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:19: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:19: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected '}', expecting kEND
));}\n<div class='field clearfix'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='field clearfix'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:21: syntax error, unexpected '<'
));}\n<div class='field clearfix'></div>\n#{
                                   ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:24: unknown regexp options - dv
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:24: syntax error, unexpected $undefined
));}\n<div class='input'></div>\n#{
                                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected '}', expecting kEND
));}\n<div class='actions'></div>\n#{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected kCLASS, expecting kDO or '{' or '('
));}\n<div class='actions'></div>\n#{
                ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected '<'
));}\n<div class='actions'></div>\n#{
                            ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: unterminated string meets end of file
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:26: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    6:           prohibited this rate from being saved:
    7:         %ul
    8:           = @rate.errors.full_messages.each do |msg|
    9:           %li
    10:             = msg
    11: 
    12:   .field.clearfix
  app/views/rates/_form.html.haml:26:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174367260_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (32.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:05:28 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175270100_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175270100_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n      ", 1, false);
haml_temp =  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'></div>\n#{_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n<div class='actions'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175330120_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.1ms)
Rendered rates/edit.html.haml within layouts/application (10.9ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:   = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175330120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:06:44 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171662200_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171662200_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'></div>\n#{_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n<div class='actions'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171707660_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (87.9ms)
Rendered rates/edit.html.haml within layouts/application (93.1ms)
Completed 500 Internal Server Error in 113ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:   = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171707660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (16.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (24.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:06:45 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (5.7ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172440620_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172440620_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'></div>\n#{_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n<div class='field clearfix'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n<div class='input'></div>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n<div class='actions'></div>\n#{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172486740_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.4ms)
Rendered rates/edit.html.haml within layouts/application (11.0ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:   = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172486740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (91.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (99.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:08 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174666100_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174666100_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174832340_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.5ms)
Rendered rates/edit.html.haml within layouts/application (13.0ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174832340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:15 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175731480_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175731480_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n#{_hamlout.adjust_tabs(-1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175955060_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.5ms)
Rendered rates/edit.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end):
    27:   = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:30:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175955060_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.7ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:20 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (1.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171973320_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:29: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171973320_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n#{_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:29:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172102340_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.9ms)
Rendered rates/edit.html.haml within layouts/application (11.5ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:29: syntax error, unexpected kENSURE, expecting $end):
    26: 
    27: = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:29:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172102340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:26 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173912300_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173912300_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173977540_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.6ms)
Rendered rates/edit.html.haml within layouts/application (12.6ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end):
    27:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:30:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173977540_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.7ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:30 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175085220_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^
Function body:           def _app_views_rates__form_html_haml___1203313504_2175085220_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  ", 0, false);
haml_temp =  f.text_field :percent_rate
_hamlout.push_text("  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175222580_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.2ms)
Rendered rates/edit.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^):
    27:       = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:30:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175222580_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:35 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (3.8ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (2.0ms)
Rendered rates/edit.html.haml within layouts/application (7.3ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    24:   .input
    25:     = f.text_field :percent_rate
    26: 
    27:         = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:27
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171564720_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:07:54 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (3.6ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173154100_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173154100_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173241540_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (10.8ms)
Rendered rates/edit.html.haml within layouts/application (20.4ms)
Completed 500 Internal Server Error in 46ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173241540_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:09:24 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174906520_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^
Function body:           def _app_views_rates__form_html_haml___1203313504_2174906520_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175011100_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.6ms)
Rendered rates/edit.html.haml within layouts/application (14.0ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^):
    27:   .actions
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:30:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175011100_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.4ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:09:29 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2176290500_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2176290500_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:22:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171521140_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.2ms)
Rendered rates/edit.html.haml within layouts/application (86.7ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171521140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (14.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (25.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:30 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172210640_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172210640_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172277020_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (11.7ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172277020_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (95.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (103.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:31 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (6.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174705580_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174705580_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174833520_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.2ms)
Rendered rates/edit.html.haml within layouts/application (11.9ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174833520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:31 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175695360_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175695360_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175899380_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (9.5ms)
Rendered rates/edit.html.haml within layouts/application (14.0ms)
Completed 500 Internal Server Error in 108ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175899380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:48 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171928860_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171928860_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172028880_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172028880_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173261440_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173261440_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173339660_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.7ms)
Rendered rates/edit.html.haml within layouts/application (11.7ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173339660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.0ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175433320_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175433320_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175505280_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.1ms)
Rendered rates/edit.html.haml within layouts/application (13.2ms)
Completed 500 Internal Server Error in 30ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175505280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (6.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171828700_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171828700_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171921120_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (89.9ms)
Rendered rates/edit.html.haml within layouts/application (94.1ms)
Completed 500 Internal Server Error in 118ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171921120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.7ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:11:49 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2172534700_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2172534700_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172712520_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.8ms)
Rendered rates/edit.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172712520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:12:02 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174773540_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:15: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174773540_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<error_explanation>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n    <ul>\n", 1, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("      <li>\n        #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n      </li>\n", -1, false);end
_hamlout.push_text("    </ul>\n  </h2>\n</error_explanation>\n", -3, false);end
end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:15:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174906520_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (3.8ms)
Rendered rates/edit.html.haml within layouts/application (7.8ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:15: syntax error, unexpected kENSURE, expecting $end):
    12:   
  app/views/rates/_form.html.haml:15:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2174906520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:12:07 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.9ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (105.7ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (10.8ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/edit.html.haml within layouts/application (152.0ms)
Completed 200 OK in 169ms (Views: 159.3ms | ActiveRecord: 0.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:13:25 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.6ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2175629340_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2175629340_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</div>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175863640_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (8.2ms)
Rendered rates/edit.html.haml within layouts/application (12.2ms)
Completed 500 Internal Server Error in 110ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:30: syntax error, unexpected kENSURE, expecting $end):
    27:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:30:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175863640_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:13:29 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2171787620_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2171787620_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</div>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171852620_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.6ms)
Rendered rates/edit.html.haml within layouts/application (12.5ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2171852620_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:13:35 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173298160_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173298160_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n</div>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173371280_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (6.6ms)
Rendered rates/edit.html.haml within layouts/application (10.5ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end):
    25:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:28:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173371280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:13:41 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (20.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2174990100_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2174990100_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n</div>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n</div>\n<div class='input'>\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n</div>\n<div class='actions'>\n  #{

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175080860_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (6.8ms)
Rendered rates/edit.html.haml within layouts/application (11.0ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:28: syntax error, unexpected kENSURE, expecting $end):
    25:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:28:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2175080860_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:13:44 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (95.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (10.7ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.2ms)
Rendered rates/edit.html.haml within layouts/application (139.4ms)
Completed 200 OK in 156ms (Views: 146.4ms | ActiveRecord: 0.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:10 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (3.9ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (17.7ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered rates/edit.html.haml within layouts/application (65.6ms)
Completed 200 OK in 175ms (Views: 74.8ms | ActiveRecord: 3.9ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:27 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (16.4ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.4ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered rates/edit.html.haml within layouts/application (60.1ms)
Completed 200 OK in 166ms (Views: 68.0ms | ActiveRecord: 0.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:45 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (19.9ms)
Rendered layouts/_stylesheets.html.haml (2.6ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/edit.html.haml within layouts/application (64.8ms)
Completed 200 OK in 87ms (Views: 74.6ms | ActiveRecord: 0.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:48 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (27.0ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.2ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (2.1ms)
Rendered layouts/_javascripts.html.haml (146.3ms)
Rendered rates/edit.html.haml within layouts/application (214.9ms)
Completed 200 OK in 241ms (Views: 224.7ms | ActiveRecord: 0.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:52 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (5.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates__form_html_haml___1203313504_2173355020_906590 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates__form_html_haml___1203313504_2173355020_906590(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;haml_temp =  form_for @rate do |f|
 if @rate.errors.any?
_hamlout.push_text("<div id='error_explanation'>\n  <h2>\n    ", 2, false);

haml_temp =  pluralize(@rate.errors.count, "error")
_hamlout.push_text("    prohibited this rate from being saved:\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </h2>\n  <ul>\n", 0, false);
_hamlout.append_if_string=  @rate.errors.full_messages.each do |msg|
_hamlout.push_text("    <li>\n      #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( msg
));}\n    </li>\n", -1, false);end
_hamlout.push_text("  </ul>\n</div>\n", -2, false);end
_hamlout.push_text("<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( f.label :bank_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :bank_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :category_rate_type_id
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :category_rate_type_id
));}\n  </div>\n</div>\n<div class='field clearfix'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.label :percent_rate
));}\n  <div class='input'>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.text_field :percent_rate
));}\n  </div>\n</div>\n<div class='actions'>\n  #{_hamlout.adjust_tabs(-1); 

_hamlout.format_script_false_false_false_true_false_true_false(( f.submit :class => 'btn primary'
));}\n</div>\n", -1, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers.rb:90:in `non_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:11:in `render'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173544980_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__1992409046__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:82:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/_form.html.haml (7.3ms)
Rendered rates/edit.html.haml within layouts/application (11.1ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/_form.html.haml:31: syntax error, unexpected kENSURE, expecting $end):
    28:     = f.submit :class => 'btn primary'
  app/views/rates/_form.html.haml:31:in `compile'
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2173544980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.5ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:14:54 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (21.0ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.2ms)
Rendered rates/edit.html.haml within layouts/application (62.8ms)
Completed 200 OK in 81ms (Views: 70.6ms | ActiveRecord: 0.2ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:15:06 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"4.0", "bank_id"=>""}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (18.6ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (29.4ms)[0m  [1mUPDATE `rates` SET `bank_id` = NULL, `updated_at` = '2011-08-28 03:15:06' WHERE `rates`.`id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/rates/1
Completed 302 Found in 159ms


Started GET "/rates/1" for 127.0.0.1 at Sat Aug 27 23:15:07 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (1.1ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (86.9ms)
Rendered layouts/_head.html.haml (95.4ms)
Rendered layouts/_header.html.haml (1.5ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/show.html.erb within layouts/application (147.5ms)
Completed 200 OK in 172ms (Views: 156.6ms | ActiveRecord: 49.8ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:15:10 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"4.0", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (19.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (3.4ms)[0m  UPDATE `rates` SET `bank_id` = 1, `updated_at` = '2011-08-28 03:15:10' WHERE `rates`.`id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/rates/1
Completed 302 Found in 48ms


Started GET "/rates/1" for 127.0.0.1 at Sat Aug 27 23:15:10 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.0ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (7.0ms)
Rendered rates/show.html.erb within layouts/application (47.0ms)
Completed 200 OK in 166ms (Views: 56.5ms | ActiveRecord: 23.8ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Sat Aug 27 23:16:55 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (19.1ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.6ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (3.1ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/edit.html.haml within layouts/application (62.2ms)
Completed 200 OK in 169ms (Views: 71.4ms | ActiveRecord: 0.2ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:16:58 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.8ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (14.0ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (10.0ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.3ms)
Rendered rates/edit.html.haml within layouts/application (54.0ms)
Completed 200 OK in 100ms (Views: 61.5ms | ActiveRecord: 1.2ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:17:34 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (0.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (10.6ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (14.9ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (81.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/edit.html.haml within layouts/application (134.0ms)
Completed 200 OK in 171ms (Views: 140.8ms | ActiveRecord: 11.4ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:17:57 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.9ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (13.7ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (91.6ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/edit.html.haml within layouts/application (135.8ms)
Completed 200 OK in 182ms (Views: 143.6ms | ActiveRecord: 1.0ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:18:55 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (0.7ms)
Rendered rates/edit.html.haml within layouts/application (4.6ms)
Completed 500 Internal Server Error in 31ms

ActionView::Template::Error (Inconsistent indentation: 7 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    1: = form_for @rate do |f|
    2:   - if @rate.errors.any?
    3:     .alert-message.error
    4:        = pluralize(@rate.errors.count, "error")
    5:       prohibited this rate from being saved:
    6:       %ul
    7:         - @rate.errors.full_messages.each do |msg|
  app/views/rates/_form.html.haml:4
  app/views/rates/edit.html.haml:4:in `_app_views_rates_edit_html_haml___639383192_2172331700_0'
  app/controllers/rates_controller.rb:66:in `update'
  app/controllers/rates_controller.rb:61:in `update'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (95.0ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:19:02 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (13.3ms)
Rendered layouts/_stylesheets.html.haml (77.1ms)
Rendered layouts/_head.html.haml (84.0ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered rates/edit.html.haml within layouts/application (127.2ms)
Completed 200 OK in 174ms (Views: 136.3ms | ActiveRecord: 0.4ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:21:36 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (16.4ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (11.5ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (8.8ms)
Rendered rates/edit.html.haml within layouts/application (144.8ms)
Completed 200 OK in 187ms (Views: 152.4ms | ActiveRecord: 0.5ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:22:13 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (98.9ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered rates/edit.html.haml within layouts/application (138.9ms)
Completed 200 OK in 210ms (Views: 146.6ms | ActiveRecord: 0.5ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:22:32 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (6.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (14.1ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (2.6ms)
Rendered layouts/_javascripts.html.haml (11.0ms)
Rendered rates/edit.html.haml within layouts/application (60.9ms)
Completed 200 OK in 180ms (Views: 68.7ms | ActiveRecord: 6.5ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:23:00 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (14.3ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (86.5ms)
Rendered rates/edit.html.haml within layouts/application (135.2ms)
Completed 200 OK in 180ms (Views: 143.1ms | ActiveRecord: 1.7ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:26:40 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (10.2ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (17.9ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (93.9ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (2.3ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/edit.html.haml within layouts/application (145.9ms)
Completed 200 OK in 185ms (Views: 153.0ms | ActiveRecord: 10.5ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:26:47 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (108.0ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered rates/edit.html.haml within layouts/application (149.7ms)
Completed 200 OK in 175ms (Views: 157.2ms | ActiveRecord: 0.4ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:29:40 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mROLLBACK[0m
Rendered rates/_form.html.haml (15.8ms)
Rendered layouts/_stylesheets.html.haml (1.6ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/edit.html.haml within layouts/application (56.6ms)
Completed 200 OK in 189ms (Views: 64.1ms | ActiveRecord: 0.7ms)


Started POST "/rates/1" for 127.0.0.1 at Sat Aug 27 23:31:45 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (16.4ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (9.7ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/edit.html.haml within layouts/application (59.4ms)
Completed 200 OK in 102ms (Views: 66.6ms | ActiveRecord: 0.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started POST "/rates/1" for 127.0.0.1 at Tue Aug 30 20:57:44 -0400 2011
  Processing by RatesController#update as HTML
  Parameters: {"commit"=>"Update Rate", "rate"=>{"category_rate_type_id"=>"1", "percent_rate"=>"", "bank_id"=>"1"}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "id"=>"1"}
  [1m[36mSQL (39.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (101.2ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (10.0ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/edit.html.haml within layouts/application (198.5ms)
Completed 200 OK in 424ms (Views: 206.9ms | ActiveRecord: 40.1ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 20:57:46 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/show.html.erb within layouts/application (118.5ms)
Completed 200 OK in 168ms (Views: 157.4ms | ActiveRecord: 0.2ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 20:57:47 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (11.7ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.3ms)
Rendered rates/index.html.erb within layouts/application (141.0ms)
Completed 200 OK in 186ms (Views: 175.8ms | ActiveRecord: 0.4ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 20:57:50 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.9ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (7.3ms)
Rendered rates/show.html.erb within layouts/application (51.4ms)
Completed 200 OK in 151ms (Views: 58.5ms | ActiveRecord: 0.9ms)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 20:57:54 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.7ms)[0m  SELECT `banks`.* FROM `banks`
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.4ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (3.2ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered banks/index.html.erb within layouts/application (47.7ms)
Completed 200 OK in 203ms (Views: 65.0ms | ActiveRecord: 0.7ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (18.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (3.4ms)[0m  [1mdescribe `rate_types`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rate_types` (`created_at`, `name`, `updated_at`, `nb_month`) VALUES ('2011-08-31 01:36:35', 'TauxFixeFerme', '2011-08-31 01:36:35', 3)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.5ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.8ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.3ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/banks/new" for 127.0.0.1 at Tue Aug 30 21:43:33 -0400 2011
  Processing by BanksController#new as HTML
Rendered banks/_form.html.erb (17.9ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (11.0ms)
Rendered layouts/_header.html.haml (87.6ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered banks/new.html.erb within layouts/application (148.7ms)
Completed 200 OK in 210ms (Views: 186.9ms | ActiveRecord: 0.0ms)


Started POST "/banks" for 127.0.0.1 at Tue Aug 30 21:43:52 -0400 2011
  Processing by BanksController#create as HTML
  Parameters: {"commit"=>"Create Bank", "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“", "bank"=>{"name"=>"Banque Nationnal du Canada", "logo_url"=>"", "abbr"=>"BNC"}}
  [1m[36mSQL (16.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `banks`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `banks` (`created_at`, `name`, `abbr`, `logo_url`, `updated_at`) VALUES ('2011-08-31 01:43:52', 'Banque Nationnal du Canada', 'BNC', '', '2011-08-31 01:43:52')
  [1m[36mSQL (2.0ms)[0m  [1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/banks/3
Completed 302 Found in 64ms


Started GET "/banks/3" for 127.0.0.1 at Tue Aug 30 21:43:52 -0400 2011
  Processing by BanksController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks` WHERE `banks`.`id` = 3 LIMIT 1
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (6.2ms)
Rendered banks/show.html.erb within layouts/application (126.7ms)
Completed 200 OK in 176ms (Views: 169.1ms | ActiveRecord: 21.1ms)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 21:43:54 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.8ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered banks/index.html.erb within layouts/application (142.2ms)
Completed 200 OK in 156ms (Views: 150.6ms | ActiveRecord: 0.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.3ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.8ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (61.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.4ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.3ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.3ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.4ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (1.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mCategory Load (0.6ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mCategory Load (0.1ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.4ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 9, '2011-08-31 02:15:26')
  [1m[36mSQL (7.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 1, '2011-08-31 02:15:26')[0m
  [1m[35mSQL (0.7ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.1ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 2, '2011-08-31 02:15:26')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 3, '2011-08-31 02:15:26')[0m
  [1m[35mSQL (7.8ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.1ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 4, '2011-08-31 02:15:26')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 5, '2011-08-31 02:15:26')[0m
  [1m[35mSQL (0.9ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.1ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 6, '2011-08-31 02:15:26')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 7, '2011-08-31 02:15:26')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.2ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:15:26', 8, '2011-08-31 02:15:26')
  [1m[36mSQL (7.1ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.9ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 9, '2011-08-31 02:16:49')
  [1m[36mSQL (63.0ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 1, '2011-08-31 02:16:49')[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.2ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 2, '2011-08-31 02:16:49')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 3, '2011-08-31 02:16:49')[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.2ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 4, '2011-08-31 02:16:49')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 5, '2011-08-31 02:16:49')[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.2ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 6, '2011-08-31 02:16:49')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 7, '2011-08-31 02:16:49')[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.3ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `category_rate_types` (`category_id`, `created_at`, `rate_type_id`, `updated_at`) VALUES (1, '2011-08-31 02:16:49', 8, '2011-08-31 02:16:49')
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (9, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (1, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.3ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (2, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)
  [1m[36mSQL (16.7ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (3, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)[0m
  [1m[35mSQL (12.7ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.1ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (4, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (5, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)[0m
  [1m[35mSQL (0.7ms)[0m  COMMIT
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.1ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (6, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (7, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1[0m
  [1m[35mRateType Load (0.4ms)[0m  SELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (8, '2011-08-31 02:19:15', '2011-08-31 02:19:15', 1)
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mdescribe `category_rate_types`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (9, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)
  [1m[36mSQL (24.2ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mdescribe `rates`[0m
  [1m[35mAREL (0.5ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 36, 4, '2011-08-31 02:20:18')
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (1.6ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (1, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (6.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 37, 4, '2011-08-31 02:20:18')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 12 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (2, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 38, 3, '2011-08-31 02:20:18')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 24 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (3, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 39, 3, '2011-08-31 02:20:18')
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.3ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 36 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (4, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 40, 4, '2011-08-31 02:20:18')
  [1m[36mSQL (18.5ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 48 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (5, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 41, 4, '2011-08-31 02:20:18')
  [1m[36mSQL (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.1ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 60 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (6, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 42, 5, '2011-08-31 02:20:18')
  [1m[36mSQL (6.6ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 84 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (7, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (3.7ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 43, 6, '2011-08-31 02:20:18')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mCategory Load (0.2ms)[0m  SELECT `categories`.* FROM `categories` WHERE `categories`.`name` = 'hypotheque' LIMIT 1
  [1m[36mRateType Load (0.2ms)[0m  [1mSELECT `rate_types`.* FROM `rate_types` WHERE `rate_types`.`name` = 'TauxFixeFerme' AND `rate_types`.`nb_month` = 120 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.1ms)[0m  [1mINSERT INTO `category_rate_types` (`rate_type_id`, `updated_at`, `created_at`, `category_id`) VALUES (8, '2011-08-31 02:20:18', '2011-08-31 02:20:18', 1)[0m
  [1m[35mSQL (2.8ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO `rates` (`updated_at`, `bank_id`, `category_rate_type_id`, `percent_rate`, `created_at`) VALUES ('2011-08-31 02:20:18', 3, 44, 6, '2011-08-31 02:20:18')
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:36:24 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (3.0ms)
Rendered layouts/_head.html.haml (13.0ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (3.4ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (9.8ms)
Rendered rates/index.html.erb within layouts/application (171.2ms)
Completed 200 OK in 217ms (Views: 179.4ms | ActiveRecord: 0.5ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:36:32 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (6.7ms)[0m  SHOW TABLES
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates_show_html_haml___785214033_2176289260_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_rates_show_html_haml___785214033_2176289260_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<p id='notice'>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( notice
));}\n</p>\n<p>\n  <strong>\n    Bank:\n    #{_hamlout.adjust_tabs(1); 



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.bank_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Category rate type:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.category_rate_type_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Percent rate:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.percent_rate
));}\n  </strong>\n</p>\n", -2, false);
haml_temp =  link_to 'Edit', edit_rate_path(@rate)
_hamlout.push_text("|\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n#{_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Back', rates_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/controllers/rates_controller.rb:18:in `show'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/show.html.haml within layouts/application (6.3ms)
Completed 500 Internal Server Error in 111ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kENSURE, expecting $end):
    20:   |
    21: = link_to 'Back', rates_path
  app/views/rates/show.html.haml:23:in `compile'
  app/controllers/rates_controller.rb:18:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (20.3ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:36:58 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (83.4ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/show.html.haml within layouts/application (122.2ms)
Completed 200 OK in 139ms (Views: 129.1ms | ActiveRecord: 0.2ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:37:09 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_rates_show_html_haml___785214033_2173110500_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:19: syntax error, unexpected tSTRING_BEG, expecting ')'
...Edit', edit_rate_path(@rate) "|"
                              ^
Function body:           def _app_views_rates_show_html_haml___785214033_2173110500_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<p id='notice'>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( notice
));}\n</p>\n<p>\n  <strong>\n    Bank:\n    #{_hamlout.adjust_tabs(1); 



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.bank_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Category rate type:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.category_rate_type_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Percent rate:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.percent_rate
));}\n  </strong>\n</p>\n#{_hamlout.adjust_tabs(-2); 
_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Edit', edit_rate_path(@rate) "|"
));}\n#{_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Back', rates_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:24:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/controllers/rates_controller.rb:18:in `show'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/show.html.haml within layouts/application (5.8ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:19: syntax error, unexpected tSTRING_BEG, expecting ')'
...Edit', edit_rate_path(@rate) "|"
                              ^):
    16:     Percent rate:
    17:     = @rate.percent_rate    
    18:     
    19: = link_to 'Edit', edit_rate_path(@rate) "|"
    20: = link_to 'Back', rates_path
  app/views/rates/show.html.haml:24:in `compile'
  app/controllers/rates_controller.rb:18:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (82.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (97.5ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:37:24 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_rates_show_html_haml___785214033_2174030960_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:20: syntax error, unexpected '|'
...#{Haml::Helpers.html_escape((|))}"
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:21: syntax error, unexpected ',', expecting ')'
));}\n", 0, false);end
        ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kENSURE, expecting '}'
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kEND, expecting '}'
...uffer = @haml_buffer.upper;end;
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:26: syntax error, unexpected kEND, expecting '}'
Function body:           def _app_views_rates_show_html_haml___785214033_2174030960_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<p id='notice'>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( notice
));}\n</p>\n<p>\n  <strong>\n    Bank:\n    #{_hamlout.adjust_tabs(1); 



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.bank_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Category rate type:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.category_rate_type_id
));}\n  </strong>\n</p>\n<p>\n  <strong>\n    Percent rate:\n    #{



_hamlout.format_script_false_false_false_true_false_true_false(( @rate.percent_rate
));}\n  </strong>\n</p>\n", -2, false);
haml_temp =  link_to 'Edit', edit_rate_path(@rate)
_hamlout.push_text("#{_hamlout.format_script_false_false_false_false_false_true_false(("#{Haml::Helpers.html_escape((|))}"
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n#{_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Back', rates_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:26:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/controllers/rates_controller.rb:18:in `show'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/show.html.haml within layouts/application (5.7ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:20: syntax error, unexpected '|'
...#{Haml::Helpers.html_escape((|))}"
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:21: syntax error, unexpected ',', expecting ')'
));}\n", 0, false);end
        ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kENSURE, expecting '}'
...Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.u...
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:23: syntax error, unexpected kEND, expecting '}'
...uffer = @haml_buffer.upper;end;
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/show.html.haml:26: syntax error, unexpected kEND, expecting '}'):
    17:     = @rate.percent_rate    
    18:     
    19: = link_to 'Edit', edit_rate_path(@rate) 
    20:   #{|}
    21: = link_to 'Back', rates_path
  app/views/rates/show.html.haml:26:in `compile'
  app/controllers/rates_controller.rb:18:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:37:32 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.8ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/show.html.haml within layouts/application (48.3ms)
Completed 200 OK in 140ms (Views: 55.8ms | ActiveRecord: 0.8ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:37:38 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/show.html.haml within layouts/application (47.2ms)
Completed 200 OK in 64ms (Views: 54.7ms | ActiveRecord: 0.2ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Tue Aug 30 22:37:58 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered rates/_form.html.haml (49.2ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.7ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (88.3ms)
Rendered rates/edit.html.haml within layouts/application (175.9ms)
Completed 200 OK in 195ms (Views: 183.6ms | ActiveRecord: 0.3ms)


Started GET "/rates/1/edit" for 127.0.0.1 at Tue Aug 30 22:37:58 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mRate Load (23.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1
Rendered rates/_form.html.haml (18.8ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (7.1ms)
Rendered rates/edit.html.haml within layouts/application (144.9ms)
Completed 200 OK in 185ms (Views: 151.9ms | ActiveRecord: 23.5ms)


Started GET "/rates/1" for 127.0.0.1 at Tue Aug 30 22:38:29 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (83.0ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/show.html.haml within layouts/application (137.6ms)
Completed 200 OK in 156ms (Views: 144.5ms | ActiveRecord: 0.2ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:38:34 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (10.5ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.3ms)
Rendered rates/index.html.erb within layouts/application (163.0ms)
Completed 200 OK in 182ms (Views: 171.7ms | ActiveRecord: 0.4ms)


Started GET "/rates/new" for 127.0.0.1 at Tue Aug 30 22:39:55 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.haml (101.8ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/new.html.haml within layouts/application (143.2ms)
Completed 200 OK in 180ms (Views: 151.2ms | ActiveRecord: 0.0ms)


Started GET "/rates/new" for 127.0.0.1 at Tue Aug 30 22:49:29 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.haml (18.2ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.5ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (98.3ms)
Rendered rates/new.html.haml within layouts/application (151.8ms)
Completed 200 OK in 177ms (Views: 159.6ms | ActiveRecord: 0.0ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:49:31 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.4ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.5ms)
Rendered layouts/_header.html.haml (1.3ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/index.html.haml within layouts/application (176.1ms)
Completed 200 OK in 192ms (Views: 183.4ms | ActiveRecord: 0.4ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:49:34 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/index.html.haml within layouts/application (74.3ms)
Completed 200 OK in 169ms (Views: 159.8ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:50:17 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.4ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (89.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/index.html.haml within layouts/application (172.2ms)
Completed 200 OK in 189ms (Views: 179.8ms | ActiveRecord: 0.4ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:50:19 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.4ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/index.html.haml within layouts/application (154.2ms)
Completed 200 OK in 170ms (Views: 160.9ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:50:50 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
ERROR: compiling _app_views_rates_index_html_haml__1843844405_2174478560_0 RAISED compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected ')'
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected $undefined
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
               ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected $undefined
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
                           ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:19: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:23: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:27: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected $undefined
));}\n      </td>\n    </tr>\n  </tr>\n</table>\...
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unknown regexp options - tr
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected $undefined
...    </td>\n    </tr>\n  </tr>\n</table>\n<br>\n#{_hamlout.ad...
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unterminated string meets end of file
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_rates_index_html_haml__1843844405_2174478560_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "rates/index";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :escape_html=>true, :format=>:html5, :escape_attrs=>true, :encoding=>nil, :attr_wrapper=>"'", :preserve=>["textarea", "pre", "code"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"]});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>\n  Listing rates\n</h1>\n<table>\n  <tr>\n    <th>\n      Bank\n    </th>\n    <th>\n      Category rate type\n    </th>\n    <th></th>\n    <th></th>\n    <th></th>\n    <th></th>\n    #{_hamlout.adjust_tabs(2); 













_hamlout.format_script_false_false_false_true_false_true_false(( @rates.each do |rate|
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 

_hamlout.format_script_false_false_false_true_false_true_false(( rate.bank_id
));}\n      </td>\n      <td>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( rate.category_rate_type_id
));}\n      </td>\n      <td>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( rate.percent_rate
));}\n      </td>\n      <td>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Show', rate
));}\n      </td>\n      <td>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Edit', edit_rate_path(rate)
));}\n      </td>\n      <td>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'Destroy', rate, :confirm => 'Are you sure?', :method => :delete
));}\n      </td>\n    </tr>\n  </tr>\n</table>\n<br>\n#{_hamlout.adjust_tabs(-4); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to 'New Rate', new_rate_path
));}\n", 0, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/controllers/rates_controller.rb:7:in `index'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__1857062112__process_action__199225275__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/sass-3.1.7/lib/sass/../sass/plugin/rack.rb:54:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.10/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered rates/index.html.haml within layouts/application (7.4ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (compile error
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected ')'
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
 ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected $undefined
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
               ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:16: syntax error, unexpected $undefined
));}\n    <tr>\n      <td>\n        #{_hamlout.adjust_tabs(2); 
                           ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:19: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:21: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:23: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:25: syntax error, unexpected $undefined
));}\n      </td>\n      <td>\n        #{
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:27: syntax error, unexpected '}', expecting kEND
));}\n      </td>\n      <td>\n        #{
    ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unknown regexp options - td
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected $undefined
));}\n      </td>\n    </tr>\n  </tr>\n</table>\...
                  ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unknown regexp options - tr
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected $undefined
...    </td>\n    </tr>\n  </tr>\n</table>\n<br>\n#{_hamlout.ad...
                              ^
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: unterminated string meets end of file
/Users/thomasfortier/Sites/ryokin/production/ryokin/app/views/rates/index.html.haml:29: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    13:     %th
    14:     
    15:     = @rates.each do |rate| 
    16:     %tr
    17:       %td
    18:         = rate.bank_id
    19:       %td
  app/views/rates/index.html.haml:29:in `compile'
  app/controllers/rates_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (14.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.5ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:50:59 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (11.2ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (85.0ms)
Rendered rates/index.html.haml within layouts/application (155.2ms)
Completed 200 OK in 244ms (Views: 162.6ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:51:14 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (11.4ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/index.html.haml within layouts/application (175.5ms)
Completed 200 OK in 191ms (Views: 182.4ms | ActiveRecord: 0.3ms)


Started GET "/rates/new" for 127.0.0.1 at Tue Aug 30 22:51:21 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.haml (102.6ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.8ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/new.html.haml within layouts/application (144.0ms)
Completed 200 OK in 161ms (Views: 151.2ms | ActiveRecord: 0.0ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:52:33 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (3.2ms)
Rendered layouts/_head.html.haml (10.8ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (79.2ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered rates/index.html.haml within layouts/application (182.1ms)
Completed 200 OK in 198ms (Views: 188.9ms | ActiveRecord: 0.3ms)


Started GET "/rates/new" for 127.0.0.1 at Tue Aug 30 22:52:37 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.haml (22.4ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered rates/new.html.haml within layouts/application (154.1ms)
Completed 200 OK in 174ms (Views: 163.3ms | ActiveRecord: 0.0ms)


Started POST "/rates" for 127.0.0.1 at Tue Aug 30 22:52:40 -0400 2011
  Processing by RatesController#create as HTML
  Parameters: {"commit"=>"Create Rate", "rate"=>{"category_rate_type_id"=>"", "percent_rate"=>"", "bank_id"=>""}, "authenticity_token"=>"nfsmT0KiX/JbjNEtP8Lmx7dKhScSeInWY3KFoHn3qm4=", "utf8"=>"âœ“"}
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  ROLLBACK
Rendered rates/_form.html.haml (15.1ms)
Rendered layouts/_stylesheets.html.haml (2.6ms)
Rendered layouts/_head.html.haml (11.7ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (2.1ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/new.html.haml within layouts/application (60.9ms)
Completed 200 OK in 166ms (Views: 149.0ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:52:56 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (77.3ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/index.html.haml within layouts/application (150.0ms)
Completed 200 OK in 166ms (Views: 156.9ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:08 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.6ms)
Rendered layouts/_head.html.haml (10.6ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered rates/index.html.haml within layouts/application (159.8ms)
Completed 200 OK in 176ms (Views: 167.0ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:17 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (12.2ms)
Rendered layouts/_header.html.haml (1.4ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (2.6ms)
Rendered layouts/_javascripts.html.haml (92.8ms)
Rendered rates/index.html.haml within layouts/application (178.4ms)
Completed 200 OK in 280ms (Views: 186.6ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:26 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (11.2ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (88.7ms)
Rendered rates/index.html.haml within layouts/application (123.6ms)
Completed 200 OK in 139ms (Views: 130.5ms | ActiveRecord: 0.4ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:32 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered rates/index.html.haml within layouts/application (0.7ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    4: %table
    5:   
    6:     
    7:     = @rates.each do |rate| 
    8:       %tr
    9:         %td
    10:           = rate.bank_id
  app/views/rates/index.html.haml:7
  app/controllers/rates_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.9ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:33 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered rates/index.html.haml within layouts/application (0.8ms)
Completed 500 Internal Server Error in 99ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    4: %table
    5:   
    6:     
    7:     = @rates.each do |rate| 
    8:       %tr
    9:         %td
    10:           = rate.bank_id
  app/views/rates/index.html.haml:7
  app/controllers/rates_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:41 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered rates/index.html.haml within layouts/application (0.7ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    3:   
    4: %table
    5: 
    6:     = @rates.each do |rate| 
    7:       %tr
    8:         %td
    9:           = rate.bank_id
  app/views/rates/index.html.haml:6
  app/controllers/rates_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (17.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (27.1ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:53:59 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (80.8ms)
Rendered layouts/_head.html.haml (88.2ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (7.5ms)
Rendered rates/index.html.haml within layouts/application (153.9ms)
Completed 200 OK in 170ms (Views: 160.8ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:54:20 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered rates/index.html.haml within layouts/application (159.8ms)
Completed 200 OK in 176ms (Views: 166.8ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:54:21 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (10.2ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (83.5ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/index.html.haml within layouts/application (157.1ms)
Completed 200 OK in 175ms (Views: 165.3ms | ActiveRecord: 0.4ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:54:23 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.7ms)
Rendered layouts/_head.html.haml (11.1ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.2ms)
Rendered rates/index.html.haml within layouts/application (160.6ms)
Completed 200 OK in 177ms (Views: 167.4ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:54:30 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (85.7ms)
Rendered rates/index.html.haml within layouts/application (154.4ms)
Completed 200 OK in 269ms (Views: 161.3ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:54:34 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (93.0ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered rates/index.html.haml within layouts/application (156.7ms)
Completed 200 OK in 172ms (Views: 163.6ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:55:27 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (10.8ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered rates/index.html.haml within layouts/application (168.8ms)
Completed 200 OK in 187ms (Views: 176.8ms | ActiveRecord: 0.4ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:55:49 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (90.1ms)
Rendered layouts/_head.html.haml (97.8ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered rates/index.html.haml within layouts/application (163.5ms)
Completed 200 OK in 179ms (Views: 170.4ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:56:14 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/index.html.haml within layouts/application (157.9ms)
Completed 200 OK in 173ms (Views: 164.8ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:56:32 -0400 2011
  Processing by RatesController#index as HTML
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (80.1ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered rates/index.html.haml within layouts/application (152.9ms)
Completed 200 OK in 168ms (Views: 159.8ms | ActiveRecord: 0.3ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:56:44 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (6.0ms)
Rendered rates/index.html.haml within layouts/application (157.2ms)
Completed 200 OK in 173ms (Views: 164.1ms | ActiveRecord: 0.3ms)


Started GET "/rates/new" for 127.0.0.1 at Tue Aug 30 22:56:56 -0400 2011
  Processing by RatesController#new as HTML
Rendered rates/_form.html.haml (21.7ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.8ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/new.html.haml within layouts/application (67.5ms)
Completed 200 OK in 198ms (Views: 84.9ms | ActiveRecord: 0.0ms)


Started GET "/rates/17/edit" for 127.0.0.1 at Tue Aug 30 22:57:01 -0400 2011
  Processing by RatesController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 17 LIMIT 1[0m
Rendered rates/_form.html.haml (20.4ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.2ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (80.2ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered rates/edit.html.haml within layouts/application (141.7ms)
Completed 200 OK in 200ms (Views: 188.3ms | ActiveRecord: 0.5ms)


Started GET "/rates" for 127.0.0.1 at Tue Aug 30 22:57:04 -0400 2011
  Processing by RatesController#index as HTML
  [1m[35mRate Load (0.3ms)[0m  SELECT `rates`.* FROM `rates`
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (11.2ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (2.4ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered rates/index.html.haml within layouts/application (163.3ms)
Completed 200 OK in 180ms (Views: 170.2ms | ActiveRecord: 0.3ms)


Started GET "/rates/12" for 127.0.0.1 at Tue Aug 30 22:57:06 -0400 2011
  Processing by RatesController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mRate Load (0.2ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`id` = 12 LIMIT 1[0m
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (10.9ms)
Rendered layouts/_header.html.haml (1.3ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered rates/show.html.haml within layouts/application (136.3ms)
Completed 200 OK in 154ms (Views: 143.5ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 23:00:52 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered layouts/_stylesheets.html.haml (86.9ms)
Rendered layouts/_head.html.haml (96.1ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.9ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (7.1ms)
Rendered banks/index.html.erb within layouts/application (142.5ms)
Completed 200 OK in 201ms (Views: 150.7ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 23:05:38 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered layouts/_stylesheets.html.haml (81.5ms)
Rendered layouts/_head.html.haml (88.9ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered banks/index.html.erb within layouts/application (124.8ms)
Completed 200 OK in 137ms (Views: 132.0ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 23:07:18 -0400 2011
  Processing by BanksController#index as HTML
  [1m[36mBank Load (0.3ms)[0m  [1mSELECT `banks`.* FROM `banks`[0m
Rendered layouts/_stylesheets.html.haml (83.3ms)
Rendered layouts/_head.html.haml (92.2ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (7.2ms)
Rendered banks/index.html.erb within layouts/application (130.5ms)
Completed 200 OK in 143ms (Views: 137.7ms | ActiveRecord: 0.3ms)


Started GET "/banks" for 127.0.0.1 at Tue Aug 30 23:07:29 -0400 2011
  Processing by BanksController#index as HTML
  [1m[35mBank Load (0.3ms)[0m  SELECT `banks`.* FROM `banks`
Rendered layouts/_stylesheets.html.haml (2.9ms)
Rendered layouts/_head.html.haml (10.7ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered banks/index.html.haml within layouts/application (138.6ms)
Completed 200 OK in 151ms (Views: 145.9ms | ActiveRecord: 0.3ms)


Started GET "/banks/new" for 127.0.0.1 at Tue Aug 30 23:07:32 -0400 2011
  Processing by BanksController#new as HTML
Rendered banks/_form.html.erb (12.9ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (11.9ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.9ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (6.9ms)
Rendered banks/new.html.erb within layouts/application (153.1ms)
Completed 200 OK in 168ms (Views: 161.4ms | ActiveRecord: 0.0ms)


Started GET "/banks/new" for 127.0.0.1 at Tue Aug 30 23:07:35 -0400 2011
  Processing by BanksController#new as HTML
Rendered banks/_form.html.erb (10.3ms)
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered banks/new.html.erb within layouts/application (141.0ms)
Completed 200 OK in 156ms (Views: 149.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Tue Aug 30 23:08:38 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (86.5ms)
Rendered layouts/_head.html.haml (94.6ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered home/index.html.erb within layouts/application (121.0ms)
Completed 200 OK in 129ms (Views: 128.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Tue Aug 30 23:09:59 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.4ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (86.5ms)
Rendered home/index.html.haml within layouts/application (118.0ms)
Completed 200 OK in 125ms (Views: 124.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Tue Aug 30 23:10:07 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (3.0ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered home/index.html.haml within layouts/application (37.2ms)
Completed 200 OK in 44ms (Views: 44.0ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
  [1m[36mSQL (49.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mBank Load (0.2ms)[0m  SELECT `banks`.* FROM `banks` WHERE `banks`.`name` = 'Desjardins' LIMIT 1
  [1m[36mRate Load (0.3ms)[0m  [1mSELECT `rates`.* FROM `rates` LIMIT 1[0m
  [1m[35mSQL (41.0ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mBank Load (1.0ms)[0m  [1mSELECT `banks`.* FROM `banks` WHERE `banks`.`name` = 'Desjardins' LIMIT 1[0m
  [1m[35mRate Load (0.2ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`bank_id` = 1 LIMIT 1
  [1m[36mRate Load (0.5ms)[0m  [1mSELECT `rates`.* FROM `rates` WHERE `rates`.`bank_id` = 1 LIMIT 1[0m
  [1m[35mRate Load (1.4ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`bank_id` = 1 LIMIT 1
  [1m[36mRate Load (0.4ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
  [1m[35mRate Load (0.4ms)[0m  SELECT `rates`.* FROM `rates`
  [1m[36mRate Load (1.1ms)[0m  [1mSELECT `rates`.* FROM `rates`[0m
  [1m[35mRate Load (0.5ms)[0m  SELECT `rates`.* FROM `rates` WHERE `rates`.`bank_id` = 1
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Wed Aug 31 21:57:47 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (11.0ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.9ms)
Rendered home/index.html.haml within layouts/application (65.2ms)
Completed 200 OK in 115ms (Views: 114.0ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Mon Sep 05 19:47:20 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (21.1ms)
Rendered layouts/_header.html.haml (1.2ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered home/index.html.haml within layouts/application (87.9ms)
Completed 200 OK in 124ms (Views: 123.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:30:16 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (0.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered home/index.html.haml within layouts/application (38.0ms)
Completed 200 OK in 45ms (Views: 44.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:30:17 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (0.8ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.1ms)
Rendered home/index.html.haml within layouts/application (110.6ms)
Completed 200 OK in 118ms (Views: 117.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:30:31 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (82.5ms)
Rendered layouts/_header.html.haml (1.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered home/index.html.haml within layouts/application (111.1ms)
Completed 200 OK in 118ms (Views: 117.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:30:38 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (13.9ms)
Rendered layouts/_header.html.haml (1.1ms)
Rendered layouts/_flashes.html.haml (4.1ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (88.7ms)
Rendered home/index.html.haml within layouts/application (134.2ms)
Completed 200 OK in 143ms (Views: 142.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:32:13 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (8.6ms)
Rendered layouts/_header.html.haml (2.6ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.haml within layouts/application (37.5ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:33:45 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (10.8ms)
Rendered home/index.html.haml within layouts/application (33.0ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (undefined local variable or method `home_url' for #<#<Class:0x1035644c0>:0x1035616f8>):
    1: #menu
    2:   %ul
    3:     %li
    4:       = link_to 'Home', home_url
    5:     %li
    6:       Dashboard
    7:     %li
  app/views/layouts/_header.html.haml:4:in `_app_views_layouts__header_html_haml__1517948995_2174782320_540990'
  app/views/layouts/application.html.haml:14:in `_app_views_layouts_application_html_haml___2036714542_2175462660_0'
  app/views/layouts/application.html.haml:3:in `_app_views_layouts_application_html_haml___2036714542_2175462660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:34:09 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.2ms)
Rendered layouts/_header.html.haml (3.1ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.haml within layouts/application (111.0ms)
Completed 200 OK in 119ms (Views: 118.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:34:21 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.8ms)
Rendered layouts/_head.html.haml (82.5ms)
Rendered layouts/_header.html.haml (3.4ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.haml within layouts/application (112.3ms)
Completed 200 OK in 120ms (Views: 119.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:39:06 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (81.2ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered home/index.html.haml within layouts/application (118.1ms)
Completed 200 OK in 125ms (Views: 124.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:40:21 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (9.9ms)
Rendered layouts/_header.html.haml (5.2ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (80.4ms)
Rendered home/index.html.haml within layouts/application (122.9ms)
Completed 200 OK in 130ms (Views: 130.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:42:08 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (10.3ms)
Rendered layouts/_header.html.haml (4.5ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.5ms)
Rendered home/index.html.haml within layouts/application (41.6ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:45:54 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (4.4ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered home/index.html.haml within layouts/application (41.8ms)
Completed 200 OK in 49ms (Views: 48.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:46:12 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (8.7ms)
Rendered layouts/_header.html.haml (4.9ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered home/index.html.haml within layouts/application (42.3ms)
Completed 200 OK in 51ms (Views: 50.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:46:56 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (10.5ms)
Rendered layouts/_header.html.haml (4.7ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered home/index.html.haml within layouts/application (121.1ms)
Completed 200 OK in 128ms (Views: 127.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:47:32 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.5ms)
Rendered layouts/_head.html.haml (84.1ms)
Rendered layouts/_header.html.haml (5.5ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.3ms)
Rendered home/index.html.haml within layouts/application (116.3ms)
Completed 200 OK in 123ms (Views: 122.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:48:32 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (77.3ms)
Rendered layouts/_head.html.haml (84.4ms)
Rendered layouts/_header.html.haml (5.7ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.haml within layouts/application (117.8ms)
Completed 200 OK in 125ms (Views: 124.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:51:28 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.2ms)
Rendered layouts/_header.html.haml (81.3ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered home/index.html.haml within layouts/application (117.1ms)
Completed 200 OK in 124ms (Views: 123.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Mon Sep 05 21:51:35 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (5.6ms)
Rendered layouts/_flashes.html.haml (1.9ms)
Rendered layouts/_footer.html.haml (1.4ms)
Rendered layouts/_javascripts.html.haml (79.7ms)
Rendered home/index.html.haml within layouts/application (115.8ms)
Completed 200 OK in 123ms (Views: 122.4ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/dashboard" for 127.0.0.1 at Mon Sep 05 22:03:48 -0400 2011

ActionController::RoutingError (No route matches "/dashboard"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:03:51 -0400 2011

ActionController::RoutingError (No route matches "/dashboards"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:03:59 -0400 2011

ActionController::RoutingError (No route matches "/dashboards"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:04:28 -0400 2011

ActionController::RoutingError (No route matches "/dashboards"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:04:40 -0400 2011

ActionController::RoutingError (No route matches "/dashboards"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:04:48 -0400 2011

ActionController::RoutingError (No route matches "/dashboards"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:05:24 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.5ms)
Rendered layouts/_header.html.haml (6.4ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (89.4ms)
Rendered dashboards/index.html.haml within layouts/application (128.4ms)
Completed 200 OK in 137ms (Views: 135.6ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:07:59 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (8.7ms)
Rendered layouts/_header.html.haml (6.5ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.7ms)
Rendered dashboards/index.html.haml within layouts/application (40.7ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:08:06 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (9.3ms)
Rendered layouts/_header.html.haml (5.7ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (5.3ms)
Rendered dashboards/index.html.haml within layouts/application (41.0ms)
Completed 200 OK in 48ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:09:15 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.7ms)
Rendered layouts/_header.html.haml (6.3ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (100.4ms)
Rendered dashboards/index.html.haml within layouts/application (137.2ms)
Completed 200 OK in 146ms (Views: 145.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:09:26 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (92.9ms)
Rendered layouts/_head.html.haml (99.8ms)
Rendered layouts/_header.html.haml (6.0ms)
Rendered layouts/_flashes.html.haml (1.9ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.3ms)
Rendered dashboards/index.html.haml within layouts/application (131.5ms)
Completed 200 OK in 139ms (Views: 138.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:10:08 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (8.9ms)
Rendered layouts/_header.html.haml (87.0ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered dashboards/index.html.haml within layouts/application (123.4ms)
Completed 200 OK in 131ms (Views: 130.5ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:11:04 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (5.5ms)
Rendered layouts/_flashes.html.haml (1.9ms)
Rendered layouts/_footer.html.haml (79.4ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered dashboards/index.html.haml within layouts/application (119.8ms)
Completed 200 OK in 128ms (Views: 127.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:12:24 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (0.6ms)
Rendered dashboards/_sub2.html.haml (0.5ms)
Rendered dashboards/_sub3.html.haml (0.5ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (6.5ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (87.6ms)
Rendered dashboards/index.html.haml within layouts/application (138.3ms)
Completed 200 OK in 145ms (Views: 145.0ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:12:28 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.7ms)
Rendered dashboards/_sub2.html.haml (0.8ms)
Rendered dashboards/_sub3.html.haml (1.1ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (15.5ms)
Rendered layouts/_header.html.haml (6.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (81.2ms)
Rendered dashboards/index.html.haml within layouts/application (139.9ms)
Completed 200 OK in 149ms (Views: 148.2ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:41:18 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (0.7ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (6.3ms)
Rendered layouts/_flashes.html.haml (2.6ms)
Rendered layouts/_footer.html.haml (87.6ms)
Rendered layouts/_javascripts.html.haml (6.6ms)
Rendered dashboards/index.html.haml within layouts/application (142.5ms)
Completed 200 OK in 151ms (Views: 150.2ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:46:49 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.1ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.4ms)
Rendered layouts/_header.html.haml (6.1ms)
Rendered layouts/_flashes.html.haml (2.5ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (89.2ms)
Rendered dashboards/index.html.haml within layouts/application (137.8ms)
Completed 200 OK in 147ms (Views: 146.3ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:48:37 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.1ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.7ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (11.1ms)
Rendered layouts/_header.html.haml (5.9ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (83.6ms)
Rendered dashboards/index.html.haml within layouts/application (130.9ms)
Completed 200 OK in 138ms (Views: 137.7ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:48:45 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.1ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.5ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (5.7ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (80.9ms)
Rendered layouts/_javascripts.html.haml (6.4ms)
Rendered dashboards/index.html.haml within layouts/application (130.4ms)
Completed 200 OK in 139ms (Views: 138.3ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:49:17 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.0ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (6.3ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (79.7ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered dashboards/index.html.haml within layouts/application (130.3ms)
Completed 200 OK in 138ms (Views: 137.3ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:55:11 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (1.1ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.5ms)
Rendered layouts/_stylesheets.html.haml (1.9ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (6.0ms)
Rendered layouts/_flashes.html.haml (78.7ms)
Rendered layouts/_footer.html.haml (2.1ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered dashboards/index.html.haml within layouts/application (128.6ms)
Completed 200 OK in 136ms (Views: 136.0ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:57:44 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.2ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (9.0ms)
Rendered layouts/_header.html.haml (5.6ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (1.9ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered dashboards/index.html.haml within layouts/application (128.1ms)
Completed 200 OK in 135ms (Views: 134.9ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:57:59 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.3ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.8ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.1ms)
Rendered layouts/_header.html.haml (82.0ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered dashboards/index.html.haml within layouts/application (128.4ms)
Completed 200 OK in 136ms (Views: 135.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at Mon Sep 05 22:58:13 -0400 2011

ActionController::RoutingError (No route matches "/dashboard"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 22:58:15 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.3ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.5ms)
Rendered layouts/_stylesheets.html.haml (2.1ms)
Rendered layouts/_head.html.haml (90.7ms)
Rendered layouts/_header.html.haml (5.8ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.6ms)
Rendered dashboards/index.html.haml within layouts/application (131.9ms)
Completed 200 OK in 139ms (Views: 138.9ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:00:12 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.7ms)
Rendered dashboards/_sub2.html.haml (0.9ms)
Rendered dashboards/_sub3.html.haml (0.9ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (88.8ms)
Rendered layouts/_header.html.haml (5.8ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.8ms)
Rendered layouts/_javascripts.html.haml (6.3ms)
Rendered dashboards/index.html.haml within layouts/application (134.9ms)
Completed 200 OK in 144ms (Views: 143.1ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:00:46 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.4ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.8ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (88.7ms)
Rendered layouts/_header.html.haml (5.7ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (2.4ms)
Rendered layouts/_javascripts.html.haml (6.7ms)
Rendered dashboards/index.html.haml within layouts/application (133.5ms)
Completed 200 OK in 141ms (Views: 140.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:00:48 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (2.6ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (139.9ms)
Rendered layouts/_header.html.haml (5.7ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.4ms)
Rendered dashboards/index.html.haml within layouts/application (184.2ms)
Completed 200 OK in 192ms (Views: 191.6ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:05:14 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.4ms)
Rendered dashboards/_sub2.html.haml (0.8ms)
Rendered dashboards/_sub3.html.haml (0.7ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (5.9ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered dashboards/index.html.haml within layouts/application (134.0ms)
Completed 200 OK in 143ms (Views: 142.3ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:09:23 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (84.6ms)
Rendered dashboards/_sub2.html.haml (0.9ms)
Rendered dashboards/_sub3.html.haml (0.8ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (10.0ms)
Rendered layouts/_header.html.haml (6.5ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (6.9ms)
Rendered dashboards/index.html.haml within layouts/application (138.8ms)
Completed 200 OK in 147ms (Views: 146.2ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:10:10 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.9ms)
Rendered dashboards/_sub2.html.haml (0.8ms)
Rendered dashboards/_sub3.html.haml (0.7ms)
Rendered layouts/_stylesheets.html.haml (2.4ms)
Rendered layouts/_head.html.haml (10.1ms)
Rendered layouts/_header.html.haml (6.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (6.5ms)
Rendered dashboards/index.html.haml within layouts/application (137.2ms)
Completed 200 OK in 145ms (Views: 144.3ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:11:13 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (4.8ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (10.7ms)
Rendered layouts/_header.html.haml (5.6ms)
Rendered layouts/_flashes.html.haml (2.0ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (5.8ms)
Rendered dashboards/index.html.haml within layouts/application (59.4ms)
Completed 200 OK in 70ms (Views: 69.8ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:11:57 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.9ms)
Rendered dashboards/_sub2.html.haml (0.8ms)
Rendered dashboards/_sub3.html.haml (0.7ms)
Rendered layouts/_stylesheets.html.haml (2.2ms)
Rendered layouts/_head.html.haml (9.7ms)
Rendered layouts/_header.html.haml (112.4ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered dashboards/index.html.haml within layouts/application (168.8ms)
Completed 200 OK in 180ms (Views: 179.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:12:15 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (7.0ms)
Rendered dashboards/_sub2.html.haml (2.3ms)
Rendered dashboards/_sub3.html.haml (1.3ms)
Rendered layouts/_stylesheets.html.haml (5.2ms)
Rendered layouts/_head.html.haml (24.2ms)
Rendered layouts/_header.html.haml (12.2ms)
Rendered layouts/_flashes.html.haml (2.7ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (49.1ms)
Rendered dashboards/index.html.haml within layouts/application (170.7ms)
Completed 200 OK in 189ms (Views: 188.5ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:12:28 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (4.5ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.5ms)
Rendered layouts/_header.html.haml (5.8ms)
Rendered layouts/_flashes.html.haml (2.1ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered dashboards/index.html.haml within layouts/application (58.4ms)
Completed 200 OK in 68ms (Views: 67.8ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:12:47 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.3ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.5ms)
Rendered layouts/_stylesheets.html.haml (103.6ms)
Rendered layouts/_head.html.haml (111.8ms)
Rendered layouts/_header.html.haml (7.8ms)
Rendered layouts/_flashes.html.haml (5.3ms)
Rendered layouts/_footer.html.haml (2.2ms)
Rendered layouts/_javascripts.html.haml (9.0ms)
Rendered dashboards/index.html.haml within layouts/application (169.6ms)
Completed 200 OK in 177ms (Views: 176.5ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:14:21 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.5ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.3ms)
Rendered layouts/_head.html.haml (105.0ms)
Rendered layouts/_header.html.haml (6.7ms)
Rendered layouts/_flashes.html.haml (2.4ms)
Rendered layouts/_footer.html.haml (1.6ms)
Rendered layouts/_javascripts.html.haml (5.9ms)
Rendered dashboards/index.html.haml within layouts/application (153.7ms)
Completed 200 OK in 185ms (Views: 184.2ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Mon Sep 05 23:14:27 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.4ms)
Rendered dashboards/_sub2.html.haml (0.6ms)
Rendered dashboards/_sub3.html.haml (0.6ms)
Rendered layouts/_stylesheets.html.haml (2.0ms)
Rendered layouts/_head.html.haml (9.7ms)
Rendered layouts/_header.html.haml (5.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (1.5ms)
Rendered layouts/_javascripts.html.haml (6.1ms)
Rendered dashboards/index.html.haml within layouts/application (137.4ms)
Completed 200 OK in 145ms (Views: 144.4ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/thomasfortier/Sites/ryokin/production/ryokin/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Wed Sep 07 18:51:00 -0400 2011
  Processing by HomeController#index as HTML
Rendered layouts/_stylesheets.html.haml (4.1ms)
Rendered layouts/_head.html.haml (18.9ms)
Rendered layouts/_header.html.haml (25.8ms)
Rendered layouts/_flashes.html.haml (3.8ms)
Rendered layouts/_footer.html.haml (2.0ms)
Rendered layouts/_javascripts.html.haml (181.4ms)
Rendered home/index.html.haml within layouts/application (261.8ms)
Completed 200 OK in 281ms (Views: 276.7ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Wed Sep 07 18:51:13 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (4.7ms)
Rendered dashboards/_sub2.html.haml (0.7ms)
Rendered dashboards/_sub3.html.haml (0.7ms)
Rendered layouts/_stylesheets.html.haml (2.8ms)
Rendered layouts/_head.html.haml (11.2ms)
Rendered layouts/_header.html.haml (8.9ms)
Rendered layouts/_flashes.html.haml (2.2ms)
Rendered layouts/_footer.html.haml (93.3ms)
Rendered layouts/_javascripts.html.haml (25.9ms)
Rendered dashboards/index.html.haml within layouts/application (183.1ms)
Completed 200 OK in 224ms (Views: 223.4ms | ActiveRecord: 0.0ms)


Started GET "/dashboards" for 127.0.0.1 at Wed Sep 07 20:22:13 -0400 2011
  Processing by DashboardsController#index as HTML
Rendered dashboards/_sub1.html.haml (3.3ms)
Rendered dashboards/_sub2.html.haml (0.9ms)
Rendered dashboards/_sub3.html.haml (0.8ms)
Rendered layouts/_stylesheets.html.haml (1.8ms)
Rendered layouts/_head.html.haml (10.0ms)
Rendered layouts/_header.html.haml (6.0ms)
Rendered layouts/_flashes.html.haml (2.3ms)
Rendered layouts/_footer.html.haml (1.7ms)
Rendered layouts/_javascripts.html.haml (97.8ms)
Rendered dashboards/index.html.haml within layouts/application (149.0ms)
Completed 200 OK in 160ms (Views: 159.1ms | ActiveRecord: 0.0ms)
